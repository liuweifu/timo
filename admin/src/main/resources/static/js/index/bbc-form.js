function btnState(e,t){if(1==t){var n=e.data("loading-text")||"<i class='spinner spinner-sm'></i> 提交中...";e.attr("data-title",e.html()),e.prop("disabled",!0).html(n)}else e.prop("disabled",!1).html(e.data("title"))}!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){!function(D){"use strict";function s(e){return D.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){e=e?e.replace(this.re,this.ch):""}),e}function t(e){var r,s=arguments,o=e;[].shift.apply(s);var t=this.each(function(){var e=D(this);if(e.is("select")){var t=e.data("selectpicker"),n="object"==typeof o&&o;if(t){if(n)for(var a in n)n.hasOwnProperty(a)&&(t.options[a]=n[a])}else{var i=D.extend({},h.DEFAULTS,D.fn.selectpicker.defaults||{},e.data(),n);i.template=D.extend({},h.DEFAULTS.template,D.fn.selectpicker.defaults?D.fn.selectpicker.defaults.template:{},e.data().template,n.template),e.data("selectpicker",t=new h(this,i))}"string"==typeof o&&(r=t[o]instanceof Function?t[o].apply(t,s):t.options[o])}});return void 0!==r?r:t}var o,e,l,n,a,d,i;String.prototype.includes||(o={}.toString,e=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}(),l="".indexOf,n=function(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==o.call(e))throw new TypeError;var n=t.length,a=String(e),i=a.length,r=1<arguments.length?arguments[1]:void 0,s=r?Number(r):0;return s!=s&&(s=0),!(n<i+Math.min(Math.max(s,0),n))&&-1!=l.call(t,a,s)},e?e(String.prototype,"includes",{value:n,configurable:!0,writable:!0}):String.prototype.includes=n),String.prototype.startsWith||(a=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}(),d={}.toString,i=function(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==d.call(e))throw new TypeError;var n=t.length,a=String(e),i=a.length,r=1<arguments.length?arguments[1]:void 0,s=r?Number(r):0;s!=s&&(s=0);var o=Math.min(Math.max(s,0),n);if(n<i+o)return!1;for(var l=-1;++l<i;)if(t.charCodeAt(o+l)!=a.charCodeAt(l))return!1;return!0},a?a(String.prototype,"startsWith",{value:i,configurable:!0,writable:!0}):String.prototype.startsWith=i),Object.keys||(Object.keys=function(e,t,n){for(t in n=[],e)n.hasOwnProperty.call(e,t)&&n.push(t);return n});var r={useDefault:!1,_set:D.valHooks.select.set};D.valHooks.select.set=function(e,t){return t&&!r.useDefault&&D(e).data("selected",!0),r._set.apply(this,arguments)};var x=null,c=function(){try{return new Event("change"),!0}catch(e){return!1}}();D.fn.triggerNative=function(e){var t,n=this[0];n.dispatchEvent?(c?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),n.dispatchEvent(t)):n.fireEvent?((t=document.createEventObject()).eventType=e,n.fireEvent("on"+e,t)):this.trigger(e)},D.expr.pseudos.icontains=function(e,t,n){var a=D(e).find("a");return(a.data("tokens")||a.text()).toString().toUpperCase().includes(n[3].toUpperCase())},D.expr.pseudos.ibegins=function(e,t,n){var a=D(e).find("a");return(a.data("tokens")||a.text()).toString().toUpperCase().startsWith(n[3].toUpperCase())},D.expr.pseudos.aicontains=function(e,t,n){var a=D(e).find("a");return(a.data("tokens")||a.data("normalizedText")||a.text()).toString().toUpperCase().includes(n[3].toUpperCase())},D.expr.pseudos.aibegins=function(e,t,n){var a=D(e).find("a");return(a.data("tokens")||a.data("normalizedText")||a.text()).toString().toUpperCase().startsWith(n[3].toUpperCase())};var u=function(t){var n=function(e){return t[e]},e="(?:"+Object.keys(t).join("|")+")",a=RegExp(e),i=RegExp(e,"g");return function(e){return e=null==e?"":""+e,a.test(e)?e.replace(i,n):e}},S=u({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),p=u({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"}),h=function(e,t){r.useDefault||(D.valHooks.select.set=r._set,r.useDefault=!0),this.$element=D(e),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=t,null===this.options.title&&(this.options.title=this.$element.attr("title"));var n=this.options.windowPadding;"number"==typeof n&&(this.options.windowPadding=[n,n,n,n]),this.val=h.prototype.val,this.render=h.prototype.render,this.refresh=h.prototype.refresh,this.setStyle=h.prototype.setStyle,this.selectAll=h.prototype.selectAll,this.deselectAll=h.prototype.deselectAll,this.destroy=h.prototype.destroy,this.remove=h.prototype.remove,this.show=h.prototype.show,this.hide=h.prototype.hide,this.init()};h.VERSION="1.12.4",h.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn btn-js-select",style:"",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0},h.prototype={constructor:h,init:function(){var t=this,e=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement).appendTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),void 0!==e&&(this.$button.attr("data-id",e),D('label[for="'+e+'"]').click(function(e){e.preventDefault(),t.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){t.$menuInner.attr("aria-expanded",!1),t.$element.trigger("hide.bs.select",e)},"hidden.bs.dropdown":function(e){t.$element.trigger("hidden.bs.select",e)},"show.bs.dropdown":function(e){t.$menuInner.attr("aria-expanded",!0),t.$element.trigger("show.bs.select",e)},"shown.bs.dropdown":function(e){t.$element.trigger("shown.bs.select",e)}}),t.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){t.$button.addClass("bs-invalid"),t.$element.on({"focus.bs.select":function(){t.$button.focus(),t.$element.off("focus.bs.select")},"shown.bs.select":function(){t.$element.val(t.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&t.$button.removeClass("bs-invalid"),t.$element.off("rendered.bs.select")}}),t.$button.on("blur.bs.select",function(){t.$element.focus().blur(),t.$button.off("blur.bs.select")})}),setTimeout(function(){t.$element.trigger("loaded.bs.select")})},createDropdown:function(){var e=this.multiple||this.options.showTick?" show-tick":"",t=this.$element.parent().hasClass("input-group")?" input-group-btn":"",n=this.autofocus?" autofocus":"",a=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",i=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+S(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"",r=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",s=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",o='<div class="btn-group js-select'+e+t+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+n+' role="button"><span class="filter-option pull-left"></span></button><div class="dropdown-menu open" role="combobox">'+a+i+r+'<ul class="dropdown-menu inner" role="listbox" aria-expanded="false"></ul>'+s+"</div></div>";return D(o)},createView:function(){var e=this.createDropdown(),t=this.createLi();return e.find("ul")[0].innerHTML=t,e},reloadLi:function(){var e=this.createLi();this.$menuInner[0].innerHTML=e},createLi:function(){var y=this,w=[],x=0,e=document.createElement("option"),C=-1,k=function(e,t,n,a){return"<li"+(void 0!==n&&""!==n?' class="'+n+'"':"")+(null!=t?' data-original-index="'+t+'"':"")+(null!=a?'data-optgroup="'+a+'"':"")+">"+e+"</li>"},$=function(e,t,n,a){return'<a tabindex="0"'+(void 0!==t?' class="'+t+'"':"")+(n?' style="'+n+'"':"")+(y.options.liveSearchNormalize?' data-normalized-text="'+s(S(D(e).html()))+'"':"")+(void 0!==a||null!==a?' data-tokens="'+a+'"':"")+' role="option">'+e+'<span class="'+y.options.iconBase+" "+y.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(C--,!this.$element.find(".bs-title-option").length)){var t=this.$element[0];e.className="bs-title-option",e.innerHTML=this.options.title,e.value="",t.insertBefore(e,t.firstChild),void 0===D(t.options[t.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")&&(e.selected=!0)}var T=this.$element.find("option");return T.each(function(e){var t=D(this);if(C++,!t.hasClass("bs-title-option")){var n,a=this.className||"",i=S(this.style.cssText),r=t.data("content")?t.data("content"):t.html(),s=t.data("tokens")?t.data("tokens"):null,o=void 0!==t.data("subtext")?'<small class="text-muted">'+t.data("subtext")+"</small>":"",l=void 0!==t.data("icon")?'<span class="'+y.options.iconBase+" "+t.data("icon")+'"></span> ':"",d=t.parent(),c="OPTGROUP"===d[0].tagName,u=c&&d[0].disabled,p=this.disabled||u;if(""!==l&&p&&(l="<span>"+l+"</span>"),y.options.hideDisabled&&(p&&!c||u))return n=t.data("prevHiddenIndex"),t.next().data("prevHiddenIndex",void 0!==n?n:e),void C--;if(t.data("content")||(r=l+'<span class="text">'+r+o+"</span>"),c&&!0!==t.data("divider")){if(y.options.hideDisabled&&p){if(void 0===d.data("allOptionsDisabled")){var h=d.children();d.data("allOptionsDisabled",h.filter(":disabled").length===h.length)}if(d.data("allOptionsDisabled"))return void C--}var f=" "+d[0].className||"";if(0===t.index()){x+=1;var m=d[0].label,g=void 0!==d.data("subtext")?'<small class="text-muted">'+d.data("subtext")+"</small>":"";m=(d.data("icon")?'<span class="'+y.options.iconBase+" "+d.data("icon")+'"></span> ':"")+'<span class="text">'+S(m)+g+"</span>",0!==e&&0<w.length&&(C++,w.push(k("",null,"divider",x+"div"))),C++,w.push(k(m,null,"dropdown-header"+f,x))}if(y.options.hideDisabled&&p)return void C--;w.push(k($(r,"opt "+a+f,i,s),e,"",x))}else if(!0===t.data("divider"))w.push(k("",e,"divider"));else if(!0===t.data("hidden"))n=t.data("prevHiddenIndex"),t.next().data("prevHiddenIndex",void 0!==n?n:e),w.push(k($(r,a,i,s),e,"hidden is-hidden"));else{var v=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName;if(!v&&y.options.hideDisabled&&void 0!==(n=t.data("prevHiddenIndex"))){var b=T.eq(n)[0].previousElementSibling;b&&"OPTGROUP"===b.tagName&&!b.disabled&&(v=!0)}v&&(C++,w.push(k("",null,"divider",x+"div"))),w.push(k($(r,a,i,s),e))}y.liObj[e]=C}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),w.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(e){var t,a=this,n=this.$element.find("option");!1!==e&&n.each(function(e){var t=a.findLis().eq(a.liObj[e]);a.setDisabled(e,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,t),a.setSelected(e,this.selected,t)}),this.togglePlaceholder(),this.tabIndex();var i=n.map(function(){if(this.selected){if(a.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))return;var e,t=D(this),n=t.data("icon")&&a.options.showIcon?'<i class="'+a.options.iconBase+" "+t.data("icon")+'"></i> ':"";return e=a.options.showSubtext&&t.data("subtext")&&!a.multiple?' <small class="text-muted">'+t.data("subtext")+"</small>":"",void 0!==t.attr("title")?t.attr("title"):t.data("content")&&a.options.showContent?t.data("content").toString():n+t.html()+e}}).toArray(),r=this.multiple?i.join(this.options.multipleSeparator):i[0];if(this.multiple&&-1<this.options.selectedTextFormat.indexOf("count")){var s=this.options.selectedTextFormat.split(">");if(1<s.length&&i.length>s[1]||1==s.length&&2<=i.length){t=this.options.hideDisabled?", [disabled]":"";var o=n.not('[data-divider="true"], [data-hidden="true"]'+t).length;r=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(i.length,o):this.options.countSelectedText).replace("{0}",i.length.toString()).replace("{1}",o.toString())}}null==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(r=this.options.title),r||(r=void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",p(D.trim(r.replace(/<[^>]*>?/g,"")))),this.$button.children(".filter-option").html(r),this.$element.trigger("rendered.bs.select")},setStyle:function(e,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var n=e||this.options.style;"add"==t?this.$button.addClass(n):"remove"==t?this.$button.removeClass(n):(this.$button.removeClass(this.options.style),this.$button.addClass(n))},liHeight:function(e){if(e||!1!==this.options.size&&!this.sizeInfo){var t=document.createElement("div"),n=document.createElement("div"),a=document.createElement("ul"),i=document.createElement("li"),r=document.createElement("li"),s=document.createElement("a"),o=document.createElement("span"),l=this.options.header&&0<this.$menu.find(".popover-title").length?this.$menu.find(".popover-title")[0].cloneNode(!0):null,d=this.options.liveSearch?document.createElement("div"):null,c=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,u=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(o.className="text",t.className=this.$menu[0].parentNode.className+" open",n.className="dropdown-menu open show",a.className="dropdown-menu inner",i.className="divider",o.appendChild(document.createTextNode("Inner text")),s.appendChild(o),r.appendChild(s),a.appendChild(r),a.appendChild(i),l&&n.appendChild(l),d){var p=document.createElement("input");d.className="bs-searchbox",p.className="form-control",d.appendChild(p),n.appendChild(d)}c&&n.appendChild(c),n.appendChild(a),u&&n.appendChild(u),t.appendChild(n),document.body.appendChild(t);var h=D(r).height(),f=l?l.offsetHeight:0,m=d?d.offsetHeight:0,g=c?c.offsetHeight:0,v=u?u.offsetHeight:0,b=D(i).outerHeight(!0),y="function"==typeof getComputedStyle&&getComputedStyle(n),w=y?null:D(n),x={vert:parseInt(y?y.paddingTop:w.css("paddingTop"))+parseInt(y?y.paddingBottom:w.css("paddingBottom"))+parseInt(y?y.borderTopWidth:w.css("borderTopWidth"))+parseInt(y?y.borderBottomWidth:w.css("borderBottomWidth")),horiz:parseInt(y?y.paddingLeft:w.css("paddingLeft"))+parseInt(y?y.paddingRight:w.css("paddingRight"))+parseInt(y?y.borderLeftWidth:w.css("borderLeftWidth"))+parseInt(y?y.borderRightWidth:w.css("borderRightWidth"))},C={vert:x.vert+parseInt(y?y.marginTop:w.css("marginTop"))+parseInt(y?y.marginBottom:w.css("marginBottom"))+2,horiz:x.horiz+parseInt(y?y.marginLeft:w.css("marginLeft"))+parseInt(y?y.marginRight:w.css("marginRight"))+2};document.body.removeChild(t),this.sizeInfo={liHeight:h,headerHeight:f,searchHeight:m,actionsHeight:g,doneButtonHeight:v,dividerHeight:b,menuPadding:x,menuExtras:C}}},setSize:function(){if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var r,s,o,l,d,c,u,p,h=this,f=this.$menu,m=this.$menuInner,i=D(window),g=this.$newElement[0].offsetHeight,v=this.$newElement[0].offsetWidth,b=this.sizeInfo.liHeight,y=this.sizeInfo.headerHeight,w=this.sizeInfo.searchHeight,x=this.sizeInfo.actionsHeight,C=this.sizeInfo.doneButtonHeight,e=this.sizeInfo.dividerHeight,k=this.sizeInfo.menuPadding,$=this.sizeInfo.menuExtras,t=this.options.hideDisabled?".disabled":"",T=function(){var e,t=h.$newElement.offset(),n=D(h.options.container);h.options.container&&!n.is("body")?((e=n.offset()).top+=parseInt(n.css("borderTopWidth")),e.left+=parseInt(n.css("borderLeftWidth"))):e={top:0,left:0};var a=h.options.windowPadding;d=t.top-e.top-i.scrollTop(),c=i.height()-d-g-e.top-a[2],u=t.left-e.left-i.scrollLeft(),p=i.width()-u-v-e.left-a[1],d-=a[0],u-=a[3]};if(T(),"auto"===this.options.size){var n=function(){var e,t=function(t,n){return function(e){return n?e.classList?e.classList.contains(t):D(e).hasClass(t):!(e.classList?e.classList.contains(t):D(e).hasClass(t))}},n=h.$menuInner[0].getElementsByTagName("li"),a=Array.prototype.filter?Array.prototype.filter.call(n,t("hidden",!1)):h.$lis.not(".hidden"),i=Array.prototype.filter?Array.prototype.filter.call(a,t("dropdown-header",!0)):a.filter(".dropdown-header");T(),r=c-$.vert,s=p-$.horiz,h.options.container?(f.data("height")||f.data("height",f.height()),o=f.data("height"),f.data("width")||f.data("width",f.width()),l=f.data("width")):(o=f.height(),l=f.width()),h.options.dropupAuto&&h.$newElement.toggleClass("dropup",c<d&&r-$.vert<o),h.$newElement.hasClass("dropup")&&(r=d-$.vert),"auto"===h.options.dropdownAlignRight&&f.toggleClass("dropdown-menu-right",p<u&&s-$.horiz<l-v),e=3<a.length+i.length?3*b+$.vert-2:0,f.css({"max-height":r+"px",overflow:"hidden","min-height":e+y+w+x+C+"px"}),m.css({"max-height":r-y-w-x-C-k.vert+"px","overflow-y":"auto","min-height":Math.max(e-k.vert,0)+"px"})};n(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",n),i.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",n)}else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(t).length>this.options.size){var a=this.$lis.not(".divider").not(t).children().slice(0,this.options.size).last().parent().index(),S=this.$lis.slice(0,a+1).filter(".divider").length;r=b*this.options.size+S*e+k.vert,h.options.container?(f.data("height")||f.data("height",f.height()),o=f.data("height")):o=f.height(),h.options.dropupAuto&&this.$newElement.toggleClass("dropup",c<d&&r-$.vert<o),f.css({"max-height":r+y+w+x+C+"px",overflow:"hidden","min-height":""}),m.css({"max-height":r-k.vert+"px","overflow-y":"auto","min-height":""})}}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var e=this.$menu.parent().clone().appendTo("body"),t=this.options.container?this.$newElement.clone().appendTo("body"):e,n=e.children(".dropdown-menu").outerWidth(),a=t.css("width","auto").children("button").outerWidth();e.remove(),t.remove(),this.$newElement.css("width",Math.max(n,a)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=D('<div class="bs-container" />');var t,n,a,i=this,r=D(this.options.container),s=function(e){i.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",e.hasClass("dropup")),t=e.offset(),r.is("body")?n={top:0,left:0}:((n=r.offset()).top+=parseInt(r.css("borderTopWidth"))-r.scrollTop(),n.left+=parseInt(r.css("borderLeftWidth"))-r.scrollLeft()),a=e.hasClass("dropup")?0:e[0].offsetHeight,i.$bsContainer.css({top:t.top-n.top+a,left:t.left-n.left,width:e[0].offsetWidth})};this.$button.on("click",function(){var e=D(this);i.isDisabled()||(s(i.$newElement),i.$bsContainer.appendTo(i.options.container).toggleClass("open",!e.hasClass("open")).append(i.$menu))}),D(window).on("resize scroll",function(){s(i.$newElement)}),this.$element.on("hide.bs.select",function(){i.$menu.data("height",i.$menu.height()),i.$bsContainer.detach()})},setSelected:function(e,t,n){n||(this.togglePlaceholder(),n=this.findLis().eq(this.liObj[e])),n.toggleClass("selected",t).find("a").attr("aria-selected",t)},setDisabled:function(e,t,n){n||(n=this.findLis().eq(this.liObj[e])),t?n.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1).attr("aria-disabled",!0):n.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0).attr("aria-disabled",!1)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled").attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!e.isDisabled()})},togglePlaceholder:function(){var e=this.$element.val();this.$button.toggleClass("bs-placeholder",null===e||""===e||e.constructor===Array&&0===e.length)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var w=this,t=D(document);t.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&t.data("spaceSelect")&&(e.preventDefault(),t.data("spaceSelect",!1))}),this.$button.on("click",function(){w.setSize()}),this.$element.on("shown.bs.select",function(){if(w.options.liveSearch||w.multiple){if(!w.multiple){var e=w.liObj[w.$element[0].selectedIndex];if("number"!=typeof e||!1===w.options.size)return;var t=w.$lis.eq(e)[0].offsetTop-w.$menuInner[0].offsetTop;t=t-w.$menuInner[0].offsetHeight/2+w.sizeInfo.liHeight/2,w.$menuInner[0].scrollTop=t}}else w.$menuInner.find(".selected a").focus()}),this.$menuInner.on("click","li a",function(e){var t=D(this),n=t.parent().data("originalIndex"),a=w.$element.val(),i=w.$element.prop("selectedIndex"),r=!0;if(w.multiple&&1!==w.options.maxOptions&&e.stopPropagation(),e.preventDefault(),!w.isDisabled()&&!t.parent().hasClass("disabled")){var s=w.$element.find("option"),o=s.eq(n),l=o.prop("selected"),d=o.parent("optgroup"),c=w.options.maxOptions,u=d.data("maxOptions")||!1;if(w.multiple){if(o.prop("selected",!l),w.setSelected(n,!l),t.blur(),!1!==c||!1!==u){var p=c<s.filter(":selected").length,h=u<d.find("option:selected").length;if(c&&p||u&&h)if(c&&1==c)s.prop("selected",!1),o.prop("selected",!0),w.$menuInner.find(".selected").removeClass("selected"),w.setSelected(n,!0);else if(u&&1==u){d.find("option:selected").prop("selected",!1),o.prop("selected",!0);var f=t.parent().data("optgroup");w.$menuInner.find('[data-optgroup="'+f+'"]').removeClass("selected"),w.setSelected(n,!0)}else{var m="string"==typeof w.options.maxOptionsText?[w.options.maxOptionsText,w.options.maxOptionsText]:w.options.maxOptionsText,g="function"==typeof m?m(c,u):m,v=g[0].replace("{n}",c),b=g[1].replace("{n}",u),y=D('<div class="notify"></div>');g[2]&&(v=v.replace("{var}",g[2][1<c?0:1]),b=b.replace("{var}",g[2][1<u?0:1])),o.prop("selected",!1),w.$menu.append(y),c&&p&&(y.append(D("<div>"+v+"</div>")),r=!1,w.$element.trigger("maxReached.bs.select")),u&&h&&(y.append(D("<div>"+b+"</div>")),r=!1,w.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){w.setSelected(n,!1)},10),y.delay(750).fadeOut(300,function(){D(this).remove()})}}}else s.prop("selected",!1),o.prop("selected",!0),w.$menuInner.find(".selected").removeClass("selected").find("a").attr("aria-selected",!1),w.setSelected(n,!0);!w.multiple||w.multiple&&1===w.options.maxOptions?w.$button.focus():w.options.liveSearch&&w.$searchbox.focus(),r&&(a!=w.$element.val()&&w.multiple||i!=w.$element.prop("selectedIndex")&&!w.multiple)&&(x=[n,o.prop("selected"),l],w.$element.triggerNative("change"))}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(e){e.currentTarget==this&&(e.preventDefault(),e.stopPropagation(),w.options.liveSearch&&!D(e.target).hasClass("close")?w.$searchbox.focus():w.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),w.options.liveSearch?w.$searchbox.focus():w.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){w.$button.click()}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(e){w.options.liveSearch?w.$searchbox.focus():w.$button.focus(),e.preventDefault(),e.stopPropagation(),D(this).hasClass("bs-select-all")?w.selectAll():w.deselectAll()}),this.$element.change(function(){w.render(!1),w.$element.trigger("changed.bs.select",x),x=null})},liveSearchListener:function(){var t=this,i=D('<li class="no-results"></li>');0==D("#search-result-style").length&&D("body").append("<div id='search-result-style' style='display: none'></div>");var r=D("#search-result-style");this.searching=!1,this.$button.on("click.dropdown.data-api",function(){t.$menuInner.find(".active").removeClass("active"),t.$searchbox.val()&&(t.$searchbox.val(""),t.$menuInner.removeClass("js-select-searching"),t.$lis.not(".is-hidden").removeClass("hidden"),i.parent().length&&i.remove()),t.multiple||t.$menuInner.find(".selected").addClass("active"),setTimeout(function(){t.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(r.html(""),t.$menuInner.removeClass("js-select-searching"),t.$lis.filter(".d-block").removeClass("d-block"),t.$lis.filter(".active").removeClass("active"),i.remove(),console.log(t.$searchbox.val()),t.$searchbox.val()){t.$menuInner.addClass("js-select-searching");var e=t.$lis.not(".is-hidden, .divider, .dropdown-header");if(0==e.children('a[data-tokens*="'+s(t.$searchbox.val().toLowerCase())+'"]').length)i.html(t.options.noneResultsText.replace("{0}",'"'+S(t.$searchbox.val())+'"')),t.$menuInner.prepend(i);else{r.html('<style>.js-select-searching li>a[data-tokens*="'+s(t.$searchbox.val().toLowerCase())+'"]{display: block !important}</style>');var n,a=t.$lis.not(".hidden");a.each(function(e){var t=D(this);t.hasClass("divider")?void 0===n?t.addClass("hidden"):(n&&n.addClass("hidden"),n=t):t.hasClass("dropdown-header")&&a.eq(e+1).data("optgroup")!==t.data("optgroup")?t.addClass("hidden"):n=null}),n&&n.addClass("hidden"),e.not(".hidden").first().addClass("active"),t.$menuInner.scrollTop(0)}}})},_searchStyle:function(){return{begins:"ibegins",startsWith:"ibegins"}[this.options.liveSearchStyle]||"icontains"},val:function(e){return void 0!==e?(this.$element.val(e),this.render(),this.$element):this.$element.val()},changeAll:function(e){if(this.multiple){void 0===e&&(e=!0),this.findLis();var t=this.$element.find("option"),n=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden"),a=n.length,i=[];if(e){if(n.filter(".selected").length===n.length)return}else if(0===n.filter(".selected").length)return;n.toggleClass("selected",e);for(var r=0;r<a;r++){var s=n[r].getAttribute("data-original-index");i[i.length]=t.eq(s)[0]}D(i).prop("selected",e),this.render(!1),this.togglePlaceholder(),this.$element.triggerNative("change")}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){(e=e||window.event)&&e.stopPropagation(),this.$button.trigger("click")},keydown:function(t){var e,n,a,i,r=D(this),s=(r.is("input")?r.parent().parent():r.parent()).data("this"),o=":not(.disabled, .hidden, .dropdown-header, .divider)",l={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(!(i=s.$newElement.hasClass("open"))&&(48<=t.keyCode&&t.keyCode<=57||96<=t.keyCode&&t.keyCode<=105||65<=t.keyCode&&t.keyCode<=90))return s.options.container?s.$button.trigger("click"):(s.setSize(),s.$menu.parent().addClass("open"),i=!0),void s.$searchbox.focus();if(s.options.liveSearch&&/(^9$|27)/.test(t.keyCode.toString(10))&&i&&(t.preventDefault(),t.stopPropagation(),s.$menuInner.click(),s.$button.focus()),/(38|40)/.test(t.keyCode.toString(10))){if(!(e=s.$lis.filter(o)).length)return;n=s.options.liveSearch?e.index(e.filter(".active")):e.index(e.find("a").filter(":focus").parent()),a=s.$menuInner.data("prevIndex"),38==t.keyCode?(!s.options.liveSearch&&n!=a||-1==n||n--,n<0&&(n+=e.length)):40==t.keyCode&&((s.options.liveSearch||n==a)&&n++,n%=e.length),s.$menuInner.data("prevIndex",n),s.options.liveSearch?(t.preventDefault(),r.hasClass("dropdown-toggle")||(e.removeClass("active").eq(n).addClass("active").children("a").focus(),r.focus())):e.eq(n).children("a").focus()}else if(!r.is("input")){var d,c=[];(e=s.$lis.filter(o)).each(function(e){D.trim(D(this).children("a").text().toLowerCase()).substring(0,1)==l[t.keyCode]&&c.push(e)}),d=D(document).data("keycount"),d++,D(document).data("keycount",d),D.trim(D(":focus").text().toLowerCase()).substring(0,1)!=l[t.keyCode]?(d=1,D(document).data("keycount",d)):d>=c.length&&(D(document).data("keycount",0),d>c.length&&(d=1)),e.eq(c[d-1]).children("a").focus()}if((/(13|32)/.test(t.keyCode.toString(10))||/(^9$)/.test(t.keyCode.toString(10))&&s.options.selectOnTab)&&i){if(/(32)/.test(t.keyCode.toString(10))||t.preventDefault(),s.options.liveSearch)/(32)/.test(t.keyCode.toString(10))||(s.$menuInner.find(".active a").click(),r.focus());else{var u=D(":focus");u.click(),u.focus(),t.preventDefault(),D(document).data("spaceSelect",!0)}D(document).data("keycount",0)}(/(^9$|27)/.test(t.keyCode.toString(10))&&i&&(s.multiple||s.options.liveSearch)||/(27)/.test(t.keyCode.toString(10))&&!i)&&(s.$menu.parent().removeClass("open"),s.options.container&&s.$newElement.removeClass("open"),s.$button.focus())},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var f=D.fn.selectpicker;D.fn.selectpicker=t,D.fn.selectpicker.Constructor=h,D.fn.selectpicker.noConflict=function(){return D.fn.selectpicker=f,this},D(document).data("keycount",0).on("keydown.bs.select",'.js-select [data-toggle=dropdown], .js-select [role="listbox"], .bs-searchbox input',h.prototype.keydown).on("focusin.modal",'.js-select [data-toggle=dropdown], .js-select [role="listbox"], .bs-searchbox input',function(e){e.stopPropagation()}),D(window).on("load.bs.select.data-api",function(){D(".js-select").each(function(){var e=D(this);t.call(e,e.data())})})}(e)}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){e.fn.selectpicker.defaults={noneSelectedText:"没有选中任何项",noneResultsText:"没有找到匹配项",countSelectedText:"选中{1}中的{0}项",maxOptionsText:["超出限制 (最多选择{n}项)","组选择超出限制(最多选择{n}组)"],multipleSeparator:", ",selectAllText:"全选",deselectAllText:"取消全选"}}),function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],e);else if("object"==typeof exports)module.exports=e(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";e(jQuery,moment)}}(function(K,J){"use strict";if(!J)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var r=function(r,c){var u,p,n,l,a,i,s,o,d,h={},f=!0,m=!1,g=!1,v=0,t=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],b=["days","months","years","decades"],y=["top","bottom","auto"],w=["left","right","auto"],x=["default","top","bottom"],C={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},k={},$=function(){return void 0!==J.tz&&void 0!==c.timeZone&&null!==c.timeZone&&""!==c.timeZone},T=function(e){var t;return t=null==e?J():J.isDate(e)||J.isMoment(e)?J(e):$()?J.tz(e,i,c.useStrict,c.timeZone):J(e,i,c.useStrict),$()&&t.tz(c.timeZone),t},S=function(e){if("string"!=typeof e||1<e.length)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return-1!==a.indexOf("Y");case"M":return-1!==a.indexOf("M");case"d":return-1!==a.toLowerCase().indexOf("d");case"h":case"H":return-1!==a.toLowerCase().indexOf("h");case"m":return-1!==a.indexOf("m");case"s":return-1!==a.indexOf("s");default:return!1}},D=function(){return S("h")||S("m")||S("s")},E=function(){return S("y")||S("M")||S("d")},j=function(){var e,t,n,a=K("<div>").addClass("timepicker-hours").append(K("<table>").addClass("table-condensed")),i=K("<div>").addClass("timepicker-minutes").append(K("<table>").addClass("table-condensed")),r=K("<div>").addClass("timepicker-seconds").append(K("<table>").addClass("table-condensed")),s=[(e=K("<tr>"),t=K("<tr>"),n=K("<tr>"),S("h")&&(e.append(K("<td>").append(K("<a>").attr({href:"#",tabindex:"-1",title:c.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(K("<span>").addClass(c.icons.up)))),t.append(K("<td>").append(K("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:c.tooltips.pickHour}).attr("data-action","showHours"))),n.append(K("<td>").append(K("<a>").attr({href:"#",tabindex:"-1",title:c.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(K("<span>").addClass(c.icons.down))))),S("m")&&(S("h")&&(e.append(K("<td>").addClass("separator")),t.append(K("<td>").addClass("separator").html(":")),n.append(K("<td>").addClass("separator"))),e.append(K("<td>").append(K("<a>").attr({href:"#",tabindex:"-1",title:c.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(K("<span>").addClass(c.icons.up)))),t.append(K("<td>").append(K("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:c.tooltips.pickMinute}).attr("data-action","showMinutes"))),n.append(K("<td>").append(K("<a>").attr({href:"#",tabindex:"-1",title:c.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(K("<span>").addClass(c.icons.down))))),S("s")&&(S("m")&&(e.append(K("<td>").addClass("separator")),t.append(K("<td>").addClass("separator").html(":")),n.append(K("<td>").addClass("separator"))),e.append(K("<td>").append(K("<a>").attr({href:"#",tabindex:"-1",title:c.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(K("<span>").addClass(c.icons.up)))),t.append(K("<td>").append(K("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:c.tooltips.pickSecond}).attr("data-action","showSeconds"))),n.append(K("<td>").append(K("<a>").attr({href:"#",tabindex:"-1",title:c.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(K("<span>").addClass(c.icons.down))))),l||(e.append(K("<td>").addClass("separator")),t.append(K("<td>").append(K("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:c.tooltips.togglePeriod}))),n.append(K("<td>").addClass("separator"))),K("<div>").addClass("timepicker-picker").append(K("<table>").addClass("table-condensed").append([e,t,n])))];return S("h")&&s.push(a),S("m")&&s.push(i),S("s")&&s.push(r),s},I=function(){var e,t,n,a=K("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),i=K("<div>").addClass("datepicker").append((t=K("<thead>").append(K("<tr>").append(K("<th>").addClass("prev").attr("data-action","previous").append(K("<span>").addClass(c.icons.previous))).append(K("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",c.calendarWeeks?"6":"5")).append(K("<th>").addClass("next").attr("data-action","next").append(K("<span>").addClass(c.icons.next)))),n=K("<tbody>").append(K("<tr>").append(K("<td>").attr("colspan",c.calendarWeeks?"8":"7"))),[K("<div>").addClass("datepicker-days").append(K("<table>").addClass("table-condensed").append(t).append(K("<tbody>"))),K("<div>").addClass("datepicker-months").append(K("<table>").addClass("table-condensed").append(t.clone()).append(n.clone())),K("<div>").addClass("datepicker-years").append(K("<table>").addClass("table-condensed").append(t.clone()).append(n.clone())),K("<div>").addClass("datepicker-decades").append(K("<table>").addClass("table-condensed").append(t.clone()).append(n.clone()))])),r=K("<div>").addClass("timepicker").append(j()),s=K("<ul>").addClass("list-unstyled"),o=K("<li>").addClass("picker-switch"+(c.collapse?" accordion-toggle":"")).append((e=[],c.showTodayButton&&e.push(K("<td>").append(K("<a>").attr({"data-action":"today",title:c.tooltips.today}).append(K("<span>").addClass(c.icons.today)))),!c.sideBySide&&E()&&D()&&e.push(K("<td>").append(K("<a>").attr({"data-action":"togglePicker",title:c.tooltips.selectTime}).append(K("<span>").addClass(c.icons.time)))),c.showClear&&e.push(K("<td>").append(K("<a>").attr({"data-action":"clear",title:c.tooltips.clear}).append(K("<span>").addClass(c.icons.clear)))),c.showClose&&e.push(K("<td>").append(K("<a>").attr({"data-action":"close",title:c.tooltips.close}).append(K("<span>").addClass(c.icons.close)))),K("<table>").addClass("table-condensed").append(K("<tbody>").append(K("<tr>").append(e)))));return c.inline&&a.removeClass("dropdown-menu"),l&&a.addClass("usetwentyfour"),S("s")&&!l&&a.addClass("wider"),c.sideBySide&&E()&&D()?(a.addClass("timepicker-sbs"),"top"===c.toolbarPlacement&&a.append(o),a.append(K("<div>").addClass("row").append(i.addClass("col-md-6")).append(r.addClass("col-md-6"))),"bottom"===c.toolbarPlacement&&a.append(o),a):("top"===c.toolbarPlacement&&s.append(o),E()&&s.append(K("<li>").addClass(c.collapse&&D()?"collapse in":"").append(i)),"default"===c.toolbarPlacement&&s.append(o),D()&&s.append(K("<li>").addClass(c.collapse&&E()?"collapse":"").append(r)),"bottom"===c.toolbarPlacement&&s.append(o),a.append(s))},M=function(){var e,t=(m||r).position(),n=(m||r).offset(),a=c.widgetPositioning.vertical,i=c.widgetPositioning.horizontal;if(c.widgetParent)e=c.widgetParent.append(g);else if(r.is("input"))e=r.after(g).parent();else{if(c.inline)return void(e=r.append(g));(e=r).children().first().after(g)}if("auto"===a&&(a=n.top+1.5*g.height()>=K(window).height()+K(window).scrollTop()&&g.height()+r.outerHeight()<n.top?"top":"bottom"),"auto"===i&&(i=e.width()<n.left+g.outerWidth()/2&&n.left+g.outerWidth()>K(window).width()?"right":"left"),"top"===a?g.addClass("top").removeClass("bottom"):g.addClass("bottom").removeClass("top"),"right"===i?g.addClass("pull-right"):g.removeClass("pull-right"),"static"===e.css("position")&&(e=e.parents().filter(function(){return"static"!==K(this).css("position")}).first()),0===e.length)throw new Error("datetimepicker component should be placed within a non-static positioned container");g.css({top:"top"===a?"auto":t.top+r.outerHeight(),bottom:"top"===a?e.outerHeight()-(e===r?0:t.top):"auto",left:"left"===i?e===r?0:t.left:"auto",right:"left"===i?"auto":e.outerWidth()-r.outerWidth()-(e===r?0:t.left)})},O=function(e){"dp.change"===e.type&&(e.date&&e.date.isSame(e.oldDate)||!e.date&&!e.oldDate)||r.trigger(e)},L=function(e){"y"===e&&(e="YYYY"),O({type:"dp.update",change:e,viewDate:p.clone()})},P=function(e){g&&(e&&(s=Math.max(v,Math.min(3,s+e))),g.find(".datepicker > div").hide().filter(".datepicker-"+t[s].clsName).show())},A=function(e,t){if(!e.isValid())return!1;if(c.disabledDates&&"d"===t&&(n=e,!0===c.disabledDates[n.format("YYYY-MM-DD")]))return!1;var n,a,i,r;if(c.enabledDates&&"d"===t&&(a=e,!0!==c.enabledDates[a.format("YYYY-MM-DD")]))return!1;if(c.minDate&&e.isBefore(c.minDate,t))return!1;if(c.maxDate&&e.isAfter(c.maxDate,t))return!1;if(c.daysOfWeekDisabled&&"d"===t&&-1!==c.daysOfWeekDisabled.indexOf(e.day()))return!1;if(c.disabledHours&&("h"===t||"m"===t||"s"===t)&&(i=e,!0===c.disabledHours[i.format("H")]))return!1;if(c.enabledHours&&("h"===t||"m"===t||"s"===t)&&(r=e,!0!==c.enabledHours[r.format("H")]))return!1;if(c.disabledTimeIntervals&&("h"===t||"m"===t||"s"===t)){var s=!1;if(K.each(c.disabledTimeIntervals,function(){if(e.isBetween(this[0],this[1]))return!(s=!0)}),s)return!1}return!0},q=function(){var e,t,n,a=g.find(".datepicker-days"),i=a.find("th"),r=[],s=[];if(E()){for(i.eq(0).find("span").attr("title",c.tooltips.prevMonth),i.eq(1).attr("title",c.tooltips.selectMonth),i.eq(2).find("span").attr("title",c.tooltips.nextMonth),a.find(".disabled").removeClass("disabled"),i.eq(1).text(p.format(c.dayViewHeaderFormat)),A(p.clone().subtract(1,"M"),"M")||i.eq(0).addClass("disabled"),A(p.clone().add(1,"M"),"M")||i.eq(2).addClass("disabled"),e=p.clone().startOf("M").startOf("w").startOf("d"),n=0;n<42;n++)0===e.weekday()&&(t=K("<tr>"),c.calendarWeeks&&t.append('<td class="cw">'+e.week()+"</td>"),r.push(t)),s=["day"],e.isBefore(p,"M")&&s.push("old"),e.isAfter(p,"M")&&s.push("new"),e.isSame(u,"d")&&!f&&s.push("active"),A(e,"d")||s.push("disabled"),e.isSame(T(),"d")&&s.push("today"),0!==e.day()&&6!==e.day()||s.push("weekend"),O({type:"dp.classify",date:e,classNames:s}),t.append('<td data-action="selectDay" data-day="'+e.format("L")+'" class="'+s.join(" ")+'">'+e.date()+"</td>"),e.add(1,"d");var o,l,d;a.find("tbody").empty().append(r),o=g.find(".datepicker-months"),l=o.find("th"),d=o.find("tbody").find("span"),l.eq(0).find("span").attr("title",c.tooltips.prevYear),l.eq(1).attr("title",c.tooltips.selectYear),l.eq(2).find("span").attr("title",c.tooltips.nextYear),o.find(".disabled").removeClass("disabled"),A(p.clone().subtract(1,"y"),"y")||l.eq(0).addClass("disabled"),l.eq(1).text(p.year()),A(p.clone().add(1,"y"),"y")||l.eq(2).addClass("disabled"),d.removeClass("active"),u.isSame(p,"y")&&!f&&d.eq(u.month()).addClass("active"),d.each(function(e){A(p.clone().month(e),"M")||K(this).addClass("disabled")}),function(){var e=g.find(".datepicker-years"),t=e.find("th"),n=p.clone().subtract(5,"y"),a=p.clone().add(6,"y"),i="";for(t.eq(0).find("span").attr("title",c.tooltips.prevDecade),t.eq(1).attr("title",c.tooltips.selectDecade),t.eq(2).find("span").attr("title",c.tooltips.nextDecade),e.find(".disabled").removeClass("disabled"),c.minDate&&c.minDate.isAfter(n,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(n.year()+"-"+a.year()),c.maxDate&&c.maxDate.isBefore(a,"y")&&t.eq(2).addClass("disabled");!n.isAfter(a,"y");)i+='<span data-action="selectYear" class="year'+(n.isSame(u,"y")&&!f?" active":"")+(A(n,"y")?"":" disabled")+'">'+n.year()+"</span>",n.add(1,"y");e.find("td").html(i)}(),function(){var e,t=g.find(".datepicker-decades"),n=t.find("th"),a=J({y:p.year()-p.year()%100-1}),i=a.clone().add(100,"y"),r=a.clone(),s=!1,o=!1,l="";for(n.eq(0).find("span").attr("title",c.tooltips.prevCentury),n.eq(2).find("span").attr("title",c.tooltips.nextCentury),t.find(".disabled").removeClass("disabled"),(a.isSame(J({y:1900}))||c.minDate&&c.minDate.isAfter(a,"y"))&&n.eq(0).addClass("disabled"),n.eq(1).text(a.year()+"-"+i.year()),(a.isSame(J({y:2e3}))||c.maxDate&&c.maxDate.isBefore(i,"y"))&&n.eq(2).addClass("disabled");!a.isAfter(i,"y");)e=a.year()+12,s=c.minDate&&c.minDate.isAfter(a,"y")&&c.minDate.year()<=e,o=c.maxDate&&c.maxDate.isAfter(a,"y")&&c.maxDate.year()<=e,l+='<span data-action="selectDecade" class="decade'+(u.isAfter(a)&&u.year()<=e?" active":"")+(A(a,"y")||s||o?"":" disabled")+'" data-selection="'+(a.year()+6)+'">'+(a.year()+1)+" - "+(a.year()+12)+"</span>",a.add(12,"y");l+="<span></span><span></span><span></span>",t.find("td").html(l),n.eq(1).text(r.year()+1+"-"+a.year())}()}},e=function(){var e,t,n=g.find(".timepicker span[data-time-component]");l||(e=g.find(".timepicker [data-action=togglePeriod]"),t=u.clone().add(12<=u.hours()?-12:12,"h"),e.text(u.format("A")),A(t,"h")?e.removeClass("disabled"):e.addClass("disabled")),n.filter("[data-time-component=hours]").text(u.format(l?"HH":"hh")),n.filter("[data-time-component=minutes]").text(u.format("mm")),n.filter("[data-time-component=seconds]").text(u.format("ss")),function(){var e=g.find(".timepicker-hours table"),t=p.clone().startOf("d"),n=[],a=K("<tr>");for(11<p.hour()&&!l&&t.hour(12);t.isSame(p,"d")&&(l||p.hour()<12&&t.hour()<12||11<p.hour());)t.hour()%4==0&&(a=K("<tr>"),n.push(a)),a.append('<td data-action="selectHour" class="hour'+(A(t,"h")?"":" disabled")+'">'+t.format(l?"HH":"hh")+"</td>"),t.add(1,"h");e.empty().append(n)}(),function(){for(var e=g.find(".timepicker-minutes table"),t=p.clone().startOf("h"),n=[],a=K("<tr>"),i=1===c.stepping?5:c.stepping;p.isSame(t,"h");)t.minute()%(4*i)==0&&(a=K("<tr>"),n.push(a)),a.append('<td data-action="selectMinute" class="minute'+(A(t,"m")?"":" disabled")+'">'+t.format("mm")+"</td>"),t.add(i,"m");e.empty().append(n)}(),function(){for(var e=g.find(".timepicker-seconds table"),t=p.clone().startOf("m"),n=[],a=K("<tr>");p.isSame(t,"m");)t.second()%20==0&&(a=K("<tr>"),n.push(a)),a.append('<td data-action="selectSecond" class="second'+(A(t,"s")?"":" disabled")+'">'+t.format("ss")+"</td>"),t.add(5,"s");e.empty().append(n)}()},N=function(){g&&(q(),e())},H=function(e){var t=f?null:u;if(!e)return f=!0,n.val(""),r.data("date",""),O({type:"dp.change",date:!1,oldDate:t}),void N();if(e=e.clone().locale(c.locale),$()&&e.tz(c.timeZone),1!==c.stepping)for(e.minutes(Math.round(e.minutes()/c.stepping)*c.stepping).seconds(0);c.minDate&&e.isBefore(c.minDate);)e.add(c.stepping,"minutes");A(e)?(p=(u=e).clone(),n.val(u.format(a)),r.data("date",u.format(a)),f=!1,N(),O({type:"dp.change",date:u.clone(),oldDate:t})):(c.keepInvalid?O({type:"dp.change",date:e,oldDate:t}):n.val(f?"":u.format(a)),O({type:"dp.error",date:e,oldDate:t}))},F=function(){var t=!1;return g?(g.find(".collapse").each(function(){var e=K(this).data("collapse");return!e||!e.transitioning||!(t=!0)}),t||(m&&m.hasClass("btn")&&m.toggleClass("active"),g.hide(),K(window).off("resize",M),g.off("click","[data-action]"),g.off("mousedown",!1),g.remove(),g=!1,O({type:"dp.hide",date:u.clone()}),n.blur(),p=u.clone()),h):h},z=function(){H(null)},R=function(e){return void 0===c.parseInputDate?(!J.isMoment(e)||e instanceof Date)&&(e=T(e)):e=c.parseInputDate(e),e},B={next:function(){var e=t[s].navFnc;p.add(t[s].navStep,e),q(),L(e)},previous:function(){var e=t[s].navFnc;p.subtract(t[s].navStep,e),q(),L(e)},pickerSwitch:function(){P(1)},selectMonth:function(e){var t=K(e.target).closest("tbody").find("span").index(K(e.target));p.month(t),s===v?(H(u.clone().year(p.year()).month(p.month())),c.inline||F()):(P(-1),q()),L("M")},selectYear:function(e){var t=parseInt(K(e.target).text(),10)||0;p.year(t),s===v?(H(u.clone().year(p.year())),c.inline||F()):(P(-1),q()),L("YYYY")},selectDecade:function(e){var t=parseInt(K(e.target).data("selection"),10)||0;p.year(t),s===v?(H(u.clone().year(p.year())),c.inline||F()):(P(-1),q()),L("YYYY")},selectDay:function(e){var t=p.clone();K(e.target).is(".old")&&t.subtract(1,"M"),K(e.target).is(".new")&&t.add(1,"M"),H(t.date(parseInt(K(e.target).text(),10))),D()||c.keepOpen||c.inline||F()},incrementHours:function(){var e=u.clone().add(1,"h");A(e,"h")&&H(e)},incrementMinutes:function(){var e=u.clone().add(c.stepping,"m");A(e,"m")&&H(e)},incrementSeconds:function(){var e=u.clone().add(1,"s");A(e,"s")&&H(e)},decrementHours:function(){var e=u.clone().subtract(1,"h");A(e,"h")&&H(e)},decrementMinutes:function(){var e=u.clone().subtract(c.stepping,"m");A(e,"m")&&H(e)},decrementSeconds:function(){var e=u.clone().subtract(1,"s");A(e,"s")&&H(e)},togglePeriod:function(){H(u.clone().add(12<=u.hours()?-12:12,"h"))},togglePicker:function(e){var t,n=K(e.target),a=n.closest("ul"),i=a.find(".in"),r=a.find(".collapse:not(.in)");if(i&&i.length){if((t=i.data("collapse"))&&t.transitioning)return;i.collapse?(i.collapse("hide"),r.collapse("show")):(i.removeClass("in"),r.addClass("in")),n.is("span")?n.toggleClass(c.icons.time+" "+c.icons.date):n.find("span").toggleClass(c.icons.time+" "+c.icons.date)}},showPicker:function(){g.find(".timepicker > div:not(.timepicker-picker)").hide(),g.find(".timepicker .timepicker-picker").show()},showHours:function(){g.find(".timepicker .timepicker-picker").hide(),g.find(".timepicker .timepicker-hours").show()},showMinutes:function(){g.find(".timepicker .timepicker-picker").hide(),g.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){g.find(".timepicker .timepicker-picker").hide(),g.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){var t=parseInt(K(e.target).text(),10);l||(12<=u.hours()?12!==t&&(t+=12):12===t&&(t=0)),H(u.clone().hours(t)),B.showPicker.call(h)},selectMinute:function(e){H(u.clone().minutes(parseInt(K(e.target).text(),10))),B.showPicker.call(h)},selectSecond:function(e){H(u.clone().seconds(parseInt(K(e.target).text(),10))),B.showPicker.call(h)},clear:z,today:function(){var e=T();A(e,"d")&&H(e)},close:F},W=function(e){return K(e.currentTarget).is(".disabled")||B[K(e.currentTarget).data("action")].apply(h,arguments),!1},Y=function(){var e;return n.prop("disabled")||!c.ignoreReadonly&&n.prop("readonly")||g||(void 0!==n.val()&&0!==n.val().trim().length?H(R(n.val().trim())):f&&c.useCurrent&&(c.inline||n.is("input")&&0===n.val().trim().length)&&(e=T(),"string"==typeof c.useCurrent&&(e={year:function(e){return e.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(e){return e.date(1).hours(0).seconds(0).minutes(0)},day:function(e){return e.hours(0).seconds(0).minutes(0)},hour:function(e){return e.seconds(0).minutes(0)},minute:function(e){return e.seconds(0)}}[c.useCurrent](e)),H(e)),g=I(),function(){var e=K("<tr>"),t=p.clone().startOf("w").startOf("d");for(!0===c.calendarWeeks&&e.append(K("<th>").addClass("cw").text("#"));t.isBefore(p.clone().endOf("w"));)e.append(K("<th>").addClass("dow").text(t.format("dd"))),t.add(1,"d");g.find(".datepicker-days thead").append(e)}(),function(){for(var e=[],t=p.clone().startOf("y").startOf("d");t.isSame(p,"y");)e.push(K("<span>").attr("data-action","selectMonth").addClass("month").text(t.format("MMM"))),t.add(1,"M");g.find(".datepicker-months td").empty().append(e)}(),g.find(".timepicker-hours").hide(),g.find(".timepicker-minutes").hide(),g.find(".timepicker-seconds").hide(),N(),P(),K(window).on("resize",M),g.on("click","[data-action]",W),g.on("mousedown",!1),m&&m.hasClass("btn")&&m.toggleClass("active"),M(),g.show(),c.focusOnShow&&!n.is(":focus")&&n.focus(),O({type:"dp.show"})),h},U=function(){return g?F():Y()},V=function(e){var t,n,a,i,r=null,s=[],o={},l=e.which;for(t in k[l]="p",k)k.hasOwnProperty(t)&&"p"===k[t]&&(s.push(t),parseInt(t,10)!==l&&(o[t]=!0));for(t in c.keyBinds)if(c.keyBinds.hasOwnProperty(t)&&"function"==typeof c.keyBinds[t]&&(a=t.split(" ")).length===s.length&&C[l]===a[a.length-1]){for(i=!0,n=a.length-2;0<=n;n--)if(!(C[a[n]]in o)){i=!1;break}if(i){r=c.keyBinds[t];break}}r&&(r.call(h,g),e.stopPropagation(),e.preventDefault())},X=function(e){k[e.which]="r",e.stopPropagation(),e.preventDefault()},_=function(e){var t=K(e.target).val().trim(),n=t?R(t):null;return H(n),e.stopImmediatePropagation(),!1},Z=function(e){var t={};return K.each(e,function(){var e=R(this);e.isValid()&&(t[e.format("YYYY-MM-DD")]=!0)}),!!Object.keys(t).length&&t},Q=function(e){var t={};return K.each(e,function(){t[this]=!0}),!!Object.keys(t).length&&t},G=function(){var e=c.format||"L LT";a=e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return(u.localeData().longDateFormat(e)||e).replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return u.localeData().longDateFormat(e)||e})}),(i=c.extraFormats?c.extraFormats.slice():[]).indexOf(e)<0&&i.indexOf(a)<0&&i.push(a),l=a.toLowerCase().indexOf("a")<1&&a.replace(/\[.*?\]/g,"").indexOf("h")<1,S("y")&&(v=2),S("M")&&(v=1),S("d")&&(v=0),s=Math.max(v,s),f||H(u)};if(h.destroy=function(){F(),n.off({change:_,blur:blur,keydown:V,keyup:X,focus:c.allowInputToggle?F:""}),r.is("input")?n.off({focus:Y}):m&&(m.off("click",U),m.off("mousedown",!1)),r.removeData("DateTimePicker"),r.removeData("date")},h.toggle=U,h.show=Y,h.hide=F,h.disable=function(){return F(),m&&m.hasClass("btn")&&m.addClass("disabled"),n.prop("disabled",!0),h},h.enable=function(){return m&&m.hasClass("btn")&&m.removeClass("disabled"),n.prop("disabled",!1),h},h.ignoreReadonly=function(e){if(0===arguments.length)return c.ignoreReadonly;if("boolean"!=typeof e)throw new TypeError("ignoreReadonly () expects a boolean parameter");return c.ignoreReadonly=e,h},h.options=function(e){if(0===arguments.length)return K.extend(!0,{},c);if(!(e instanceof Object))throw new TypeError("options() options parameter should be an object");return K.extend(!0,c,e),K.each(c,function(e,t){if(void 0===h[e])throw new TypeError("option "+e+" is not recognized!");h[e](t)}),h},h.date=function(e){if(0===arguments.length)return f?null:u.clone();if(!(null===e||"string"==typeof e||J.isMoment(e)||e instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return H(null===e?null:R(e)),h},h.format=function(e){if(0===arguments.length)return c.format;if("string"!=typeof e&&("boolean"!=typeof e||!1!==e))throw new TypeError("format() expects a string or boolean:false parameter "+e);return c.format=e,a&&G(),h},h.timeZone=function(e){if(0===arguments.length)return c.timeZone;if("string"!=typeof e)throw new TypeError("newZone() expects a string parameter");return c.timeZone=e,h},h.dayViewHeaderFormat=function(e){if(0===arguments.length)return c.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return c.dayViewHeaderFormat=e,h},h.extraFormats=function(e){if(0===arguments.length)return c.extraFormats;if(!1!==e&&!(e instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return c.extraFormats=e,i&&G(),h},h.disabledDates=function(e){if(0===arguments.length)return c.disabledDates?K.extend({},c.disabledDates):c.disabledDates;if(!e)return c.disabledDates=!1,N(),h;if(!(e instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return c.disabledDates=Z(e),c.enabledDates=!1,N(),h},h.enabledDates=function(e){if(0===arguments.length)return c.enabledDates?K.extend({},c.enabledDates):c.enabledDates;if(!e)return c.enabledDates=!1,N(),h;if(!(e instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return c.enabledDates=Z(e),c.disabledDates=!1,N(),h},h.daysOfWeekDisabled=function(e){if(0===arguments.length)return c.daysOfWeekDisabled.splice(0);if("boolean"==typeof e&&!e)return c.daysOfWeekDisabled=!1,N(),h;if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(c.daysOfWeekDisabled=e.reduce(function(e,t){return 6<(t=parseInt(t,10))||t<0||isNaN(t)||-1===e.indexOf(t)&&e.push(t),e},[]).sort(),c.useCurrent&&!c.keepInvalid){for(var t=0;!A(u,"d");){if(u.add(1,"d"),31===t)throw"Tried 31 times to find a valid date";t++}H(u)}return N(),h},h.maxDate=function(e){if(0===arguments.length)return c.maxDate?c.maxDate.clone():c.maxDate;if("boolean"==typeof e&&!1===e)return c.maxDate=!1,N(),h;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=T()));var t=R(e);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(c.minDate&&t.isBefore(c.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(a));return c.maxDate=t,c.useCurrent&&!c.keepInvalid&&u.isAfter(e)&&H(c.maxDate),p.isAfter(t)&&(p=t.clone().subtract(c.stepping,"m")),N(),h},h.minDate=function(e){if(0===arguments.length)return c.minDate?c.minDate.clone():c.minDate;if("boolean"==typeof e&&!1===e)return c.minDate=!1,N(),h;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=T()));var t=R(e);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(c.maxDate&&t.isAfter(c.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(a));return c.minDate=t,c.useCurrent&&!c.keepInvalid&&u.isBefore(e)&&H(c.minDate),p.isBefore(t)&&(p=t.clone().add(c.stepping,"m")),N(),h},h.defaultDate=function(e){if(0===arguments.length)return c.defaultDate?c.defaultDate.clone():c.defaultDate;if(!e)return c.defaultDate=!1,h;"string"==typeof e&&(e="now"===e||"moment"===e?T():T(e));var t=R(e);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!A(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return c.defaultDate=t,(c.defaultDate&&c.inline||""===n.val().trim())&&H(c.defaultDate),h},h.locale=function(e){if(0===arguments.length)return c.locale;if(!J.localeData(e))throw new TypeError("locale() locale "+e+" is not loaded from moment locales!");return c.locale=e,u.locale(c.locale),p.locale(c.locale),a&&G(),g&&(F(),Y()),h},h.stepping=function(e){return 0===arguments.length?c.stepping:(e=parseInt(e,10),(isNaN(e)||e<1)&&(e=1),c.stepping=e,h)},h.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(0===arguments.length)return c.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&-1===t.indexOf(e.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return c.useCurrent=e,h},h.collapse=function(e){if(0===arguments.length)return c.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");return c.collapse===e||(c.collapse=e,g&&(F(),Y())),h},h.icons=function(e){if(0===arguments.length)return K.extend({},c.icons);if(!(e instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return K.extend(c.icons,e),g&&(F(),Y()),h},h.tooltips=function(e){if(0===arguments.length)return K.extend({},c.tooltips);if(!(e instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return K.extend(c.tooltips,e),g&&(F(),Y()),h},h.useStrict=function(e){if(0===arguments.length)return c.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");return c.useStrict=e,h},h.sideBySide=function(e){if(0===arguments.length)return c.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");return c.sideBySide=e,g&&(F(),Y()),h},h.viewMode=function(e){if(0===arguments.length)return c.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(-1===b.indexOf(e))throw new TypeError("viewMode() parameter must be one of ("+b.join(", ")+") value");return c.viewMode=e,s=Math.max(b.indexOf(e),v),P(),h},h.toolbarPlacement=function(e){if(0===arguments.length)return c.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===x.indexOf(e))throw new TypeError("toolbarPlacement() parameter must be one of ("+x.join(", ")+") value");return c.toolbarPlacement=e,g&&(F(),Y()),h},h.widgetPositioning=function(e){if(0===arguments.length)return K.extend({},c.widgetPositioning);if("[object Object]"!=={}.toString.call(e))throw new TypeError("widgetPositioning() expects an object variable");if(e.horizontal){if("string"!=typeof e.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(e.horizontal=e.horizontal.toLowerCase(),-1===w.indexOf(e.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+w.join(", ")+")");c.widgetPositioning.horizontal=e.horizontal}if(e.vertical){if("string"!=typeof e.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(e.vertical=e.vertical.toLowerCase(),-1===y.indexOf(e.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+y.join(", ")+")");c.widgetPositioning.vertical=e.vertical}return N(),h},h.calendarWeeks=function(e){if(0===arguments.length)return c.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return c.calendarWeeks=e,N(),h},h.showTodayButton=function(e){if(0===arguments.length)return c.showTodayButton;if("boolean"!=typeof e)throw new TypeError("showTodayButton() expects a boolean parameter");return c.showTodayButton=e,g&&(F(),Y()),h},h.showClear=function(e){if(0===arguments.length)return c.showClear;if("boolean"!=typeof e)throw new TypeError("showClear() expects a boolean parameter");return c.showClear=e,g&&(F(),Y()),h},h.widgetParent=function(e){if(0===arguments.length)return c.widgetParent;if("string"==typeof e&&(e=K(e)),null!==e&&"string"!=typeof e&&!(e instanceof K))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return c.widgetParent=e,g&&(F(),Y()),h},h.keepOpen=function(e){if(0===arguments.length)return c.keepOpen;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");return c.keepOpen=e,h},h.focusOnShow=function(e){if(0===arguments.length)return c.focusOnShow;if("boolean"!=typeof e)throw new TypeError("focusOnShow() expects a boolean parameter");return c.focusOnShow=e,h},h.inline=function(e){if(0===arguments.length)return c.inline;if("boolean"!=typeof e)throw new TypeError("inline() expects a boolean parameter");return c.inline=e,h},h.clear=function(){return z(),h},h.keyBinds=function(e){return 0===arguments.length?c.keyBinds:(c.keyBinds=e,h)},h.getMoment=function(e){return T(e)},h.debug=function(e){if("boolean"!=typeof e)throw new TypeError("debug() expects a boolean parameter");return c.debug=e,h},h.allowInputToggle=function(e){if(0===arguments.length)return c.allowInputToggle;if("boolean"!=typeof e)throw new TypeError("allowInputToggle() expects a boolean parameter");return c.allowInputToggle=e,h},h.showClose=function(e){if(0===arguments.length)return c.showClose;if("boolean"!=typeof e)throw new TypeError("showClose() expects a boolean parameter");return c.showClose=e,h},h.keepInvalid=function(e){if(0===arguments.length)return c.keepInvalid;if("boolean"!=typeof e)throw new TypeError("keepInvalid() expects a boolean parameter");return c.keepInvalid=e,h},h.datepickerInput=function(e){if(0===arguments.length)return c.datepickerInput;if("string"!=typeof e)throw new TypeError("datepickerInput() expects a string parameter");return c.datepickerInput=e,h},h.parseInputDate=function(e){if(0===arguments.length)return c.parseInputDate;if("function"!=typeof e)throw new TypeError("parseInputDate() sholud be as function");return c.parseInputDate=e,h},h.disabledTimeIntervals=function(e){if(0===arguments.length)return c.disabledTimeIntervals?K.extend({},c.disabledTimeIntervals):c.disabledTimeIntervals;if(!e)return c.disabledTimeIntervals=!1,N(),h;if(!(e instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return c.disabledTimeIntervals=e,N(),h},h.disabledHours=function(e){if(0===arguments.length)return c.disabledHours?K.extend({},c.disabledHours):c.disabledHours;if(!e)return c.disabledHours=!1,N(),h;if(!(e instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(c.disabledHours=Q(e),c.enabledHours=!1,c.useCurrent&&!c.keepInvalid){for(var t=0;!A(u,"h");){if(u.add(1,"h"),24===t)throw"Tried 24 times to find a valid date";t++}H(u)}return N(),h},h.enabledHours=function(e){if(0===arguments.length)return c.enabledHours?K.extend({},c.enabledHours):c.enabledHours;if(!e)return c.enabledHours=!1,N(),h;if(!(e instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(c.enabledHours=Q(e),c.disabledHours=!1,c.useCurrent&&!c.keepInvalid){for(var t=0;!A(u,"h");){if(u.add(1,"h"),24===t)throw"Tried 24 times to find a valid date";t++}H(u)}return N(),h},h.viewDate=function(e){if(0===arguments.length)return p.clone();if(!e)return p=u.clone(),h;if(!("string"==typeof e||J.isMoment(e)||e instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return p=R(e),L(),h},r.is("input"))n=r;else if(0===(n=r.find(c.datepickerInput)).length)n=r.find("input");else if(!n.is("input"))throw new Error('CSS class "'+c.datepickerInput+'" cannot be applied to non input element');if(r.hasClass("input-group")&&(m=0===r.find(".datepickerbutton").length?r.find(".input-group-addon"):r.find(".datepickerbutton")),!c.inline&&!n.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return u=T(),p=u.clone(),K.extend(!0,c,(d={},(o=r.is("input")||c.inline?r.data():r.find("input").data()).dateOptions&&o.dateOptions instanceof Object&&(d=K.extend(!0,d,o.dateOptions)),K.each(c,function(e){var t="date"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==o[t]&&(d[e]=o[t])}),d)),h.options(c),G(),n.on({change:_,blur:c.debug?"":F,keydown:V,keyup:X,focus:c.allowInputToggle?Y:""}),r.is("input")?n.on({focus:Y}):m&&(m.on("click",U),m.on("mousedown",!1)),n.prop("disabled")&&h.disable(),n.is("input")&&0!==n.val().trim().length?H(R(n.val().trim())):c.defaultDate&&void 0===n.attr("placeholder")&&H(c.defaultDate),c.inline&&Y(),h};return K.fn.datetimepicker=function(n){n=n||{};var t,a=Array.prototype.slice.call(arguments,1),i=!0;if("object"==typeof n)return this.each(function(){var e,t=K(this);t.data("DateTimePicker")||(e=K.extend(!0,{},K.fn.datetimepicker.defaults,n),t.data("DateTimePicker",r(t,e)))});if("string"==typeof n)return this.each(function(){var e=K(this).data("DateTimePicker");if(!e)throw new Error('bootstrap-datetimepicker("'+n+'") method was called on an element that is not using DateTimePicker');t=e[n].apply(e,a),i=t===e}),i||-1<K.inArray(n,["destroy","hide","show","toggle"])?this:t;throw new TypeError("Invalid arguments for DateTimePicker: "+n)},K.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:J.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(this.stepping(),"m"))}},down:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(this.stepping(),"m"))}else this.show()},"control up":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h"))}},"control down":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h"))}},left:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d"))}},right:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d"))}},pageUp:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M"))}},pageDown:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(e){e&&e.find(".timepicker").is(":visible")&&e.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},delete:function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},K.fn.datetimepicker}),function(d){d.fn.remoteSelect=function(e){function n(r){if("object"!=typeof r)return!1;d.each(r,function(e,t){var n=s.tokens,a=s.value,i=s.name;d.each(t,function(e,t){n=n.replace("["+e+"]",t),a=a.replace("["+e+"]",t),i=i.replace("["+e+"]",t)}),o.append("<option data-tokens='"+n.toLowerCase()+"' value='"+a+"'>"+i+"</option>"),e+1==r.length&&setTimeout(function(){o.selectpicker("refresh"),l.addClass("d-none")},20)})}if(0==this.length)return!1;var s=d.extend({url:!1,dependTargets:!1,dependParamsName:!1,jsSelect:!1,tokens:!1,value:!1,name:!1},e);if(s.jsSelect&&d.fn.selectpicker){var o=this,l=(this.attr("title"),d("<div class='js-select-loader'><i class='spinner'></i></div>"));if(0==o.next(".js-select-loader").length&&o.after(l),console.log(s.dependTargets),s.dependTargets){var t=s.dependTargets.split(",");console.log(t);var a=s.dependParamsName.split(","),i={};l.addClass("d-none"),d.each(t,function(t,e){d(e).on("change",function(){var e=d(this).val();i[a[t]]=e,l.removeClass("d-none"),o.html(""),d.ajax({url:s.url,type:"GET",data:i,success:function(e){n(e)}})})})}else console.log(s),d.ajax({url:s.url,type:"GET",dataType:"json",success:function(e){n(e)}})}else console.log("请添加js-select plugin后再试试")},d("[data-select-remote]").each(function(){var e=d(this),t={url:e.data("select-remote")};e.data("depend-targets")&&(t.dependTargets=e.data("depend-targets")),e.data("depend-params")&&(t.dependParamsName=e.data("depend-params")),e.data("name")&&(t.name=e.data("name")),e.data("value")&&(t.value=e.data("value")),e.hasClass("js-select")&&(t.jsSelect=!0,e.data("tokens")&&(t.tokens=e.data("tokens"))),e.remoteSelect(t)})}(jQuery),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?"undefined"==typeof $?module.exports=t(require("jquery")):module.exports=t($):e.notify=t(e.jQuery)}(this,function t(l,d){"use strict";function c(e,t,n){e.stopPropagation(),e.preventDefault(),l.isFunction(n)&&!1===n.call(t,e)||t.modal("hide")}function u(e,n){var a=0;l.each(e,function(e,t){n(e,t,a++)})}function p(e){var i,r;if("object"!=typeof e)throw new Error("Please supply an object of options");if(!e.message)throw new Error("Please specify a message");return(e=l.extend({},b,e)).buttons||(e.buttons={}),i=e.buttons,r=function(e){if(Object.keys)return Object.keys(e).length;var t,n=0;for(t in e)n++;return n}(i),u(i,function(e,t,n){var a=n===r-1;if(l.isFunction(t)&&(t=i[e]={callback:t}),"object"!==l.type(t))throw new Error("button with key "+e+" must be an object");t.label||(t.label=e),t.className||(t.className=r<=2&&a?"btn-primary":"btn-default")}),e}function h(e,t,n){return l.extend(!0,{},e,function(e,t){var n=e.length,a={};if(n<1||2<n)throw new Error("Invalid argument length");return 2===n||"string"==typeof e[0]?(a[t[0]]=e[0],a[t[1]]=e[1]):a=e[0],a}(t,n))}function n(e,t,n,a){var i,r,s,o={className:"notify-"+e,buttons:function(){for(var e={},t=0,n=arguments.length;t<n;t++){var a=arguments[t],i=a.toLowerCase(),r=a.toUpperCase();e[i]={label:(s=r,void 0,o=y[b.locale],o?o[s]:y.en[s])}}var s,o;return e}.apply(null,t)};return i=h(o,a,n),s={},u(r=t,function(e,t){s[t]=!0}),u(i.buttons,function(e){if(s[e]===d)throw new Error("button key "+e+" is not allowed (options are "+r.join("\n")+")")}),i}var f="<div class='notify modal' tabindex='-1' role='dialog' aria-hidden='true'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='notify-body'></div></div></div></div></div>",m="<div class='modal-header'><h4 class='modal-title'></h4></div>",g="<div class='modal-footer'></div>",v="<button type='button' class='notify-close-button close' aria-hidden='true'>&times;</button>",b={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},a={alert:function(){var e;if((e=n("alert",["ok"],["message","callback"],arguments)).callback&&!l.isFunction(e.callback))throw new Error("alert requires callback property to be a function when provided");return e.backdrop=!0,e.closeButton=!1,e.buttons.ok.callback=e.onEscape=function(){return!l.isFunction(e.callback)||e.callback.call(this)},a.dialog(e)},confirm:function(){var e;if(e=n("confirm",["cancel","confirm"],["message","callback"],arguments),!l.isFunction(e.callback))throw new Error("confirm requires a callback");return e.buttons.cancel.callback=e.onEscape=function(){return e.callback.call(this,!1)},e.buttons.confirm.callback=function(){return e.callback.call(this,!0)},a.dialog(e)},dialog:function(e){e=p(e);var n=l(f),t=n.find(".modal-dialog"),a=n.find(".modal-body"),i=e.buttons,r="",s={onEscape:e.onEscape};if(l.fn.modal===d)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(u(i,function(e,t){r+="<button data-bb-handler='"+e+"' type='button' class='btn "+t.className+"'>"+t.label+"</button>",s[e]=t.callback}),a.find(".notify-body").html(e.message),!0===e.animate&&n.addClass("fade"),e.className&&n.addClass(e.className),"large"===e.size?t.addClass("modal-lg"):"small"===e.size&&t.addClass("modal-sm"),e.title&&a.before(m),e.closeButton){var o=l(v);e.title?n.find(".modal-header").prepend(o):o.css("margin-top","-2px").prependTo(a)}return e.title&&n.find(".modal-title").html(e.title),r.length&&(a.after(g),n.find(".modal-footer").html(r)),n.one("hide.bs.modal",function(){n.off("escape.close.bb"),n.off("click")}),n.one("hidden.bs.modal",function(e){e.target===this&&n.remove()}),n.one("shown.bs.modal",function(){n.find(".btn-primary:first").trigger("focus")}),"static"!==e.backdrop&&n.on("click.dismiss.bs.modal",function(e){n.children(".modal-backdrop").length&&(e.currentTarget=n.children(".modal-backdrop").get(0)),e.target===e.currentTarget&&n.trigger("escape.close.bb")}),n.on("escape.close.bb",function(e){s.onEscape&&c(e,n,s.onEscape)}),n.on("click",".modal-footer button",function(e){var t=l(this).data("bb-handler");c(e,n,s[t])}),n.on("click",".notify-close-button",function(e){c(e,n,s.onEscape)}),n.on("keyup",function(e){27===e.which&&n.trigger("escape.close.bb")}),l(e.container).append(n),n.modal({backdrop:!!e.backdrop&&"static",keyboard:!1,show:!1}),e.show&&n.modal("show"),n},setDefaults:function(){var e={};2===arguments.length?e[arguments[0]]=arguments[1]:e=arguments[0],l.extend(b,e)},hideAll:function(){return l(".notify").modal("hide"),a}},y={en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"}};return a.addLocale=function(e,n){return l.each(["OK","CANCEL","CONFIRM"],function(e,t){if(!n[t])throw new Error("Please supply a translation for '"+t+"'")}),y[e]={OK:n.OK,CANCEL:n.CANCEL,CONFIRM:n.CONFIRM},a},a.removeLocale=function(e){return delete y[e],a},a.setLocale=function(e){return a.setDefaults("locale",e)},a.init=function(e){return t(e||l)},a}),$(document).on("hidden.bs.modal",function(){$(".modal.show").length?$("body").addClass("modal-open").css("padding-right",17):$("body").removeAttr("style")}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(c){c.extend(c.fn,{validate:function(e){if(this.length){var a=c.data(this[0],"validator");return a||(this.attr("novalidate","novalidate"),a=new c.validator(e,this[0]),c.data(this[0],"validator",a),a.settings.onsubmit&&(this.on("click.validate",":submit",function(e){a.settings.submitHandler&&(a.submitButton=e.target),c(this).hasClass("cancel")&&(a.cancelSubmit=!0),void 0!==c(this).attr("formnovalidate")&&(a.cancelSubmit=!0)}),this.on("submit.validate",function(n){function e(){var e,t;return!a.settings.submitHandler||(a.submitButton&&(e=c("<input type='hidden'/>").attr("name",a.submitButton.name).val(c(a.submitButton).val()).appendTo(a.currentForm)),t=a.settings.submitHandler.call(a,a.currentForm,n),a.submitButton&&e.remove(),void 0!==t&&t)}return a.settings.debug&&n.preventDefault(),a.cancelSubmit?(a.cancelSubmit=!1,e()):a.form()?a.pendingRequest?!(a.formSubmitted=!0):e():(a.focusInvalid(),!1)})),a)}e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var e,t,n;return c(this[0]).is("form")?e=this.validate().form():(n=[],e=!0,t=c(this[0].form).validate(),this.each(function(){(e=t.element(this)&&e)||(n=n.concat(t.errorList))}),t.errorList=n),e},rules:function(e,t){var n,a,i,r,s,o,l=this[0];if(null!=l&&null!=l.form){if(e)switch(a=(n=c.data(l.form,"validator").settings).rules,i=c.validator.staticRules(l),e){case"add":c.extend(i,c.validator.normalizeRule(t)),delete i.messages,a[l.name]=i,t.messages&&(n.messages[l.name]=c.extend(n.messages[l.name],t.messages));break;case"remove":return t?(o={},c.each(t.split(/\s/),function(e,t){o[t]=i[t],delete i[t],"required"===t&&c(l).removeAttr("aria-required")}),o):(delete a[l.name],i)}return(r=c.validator.normalizeRules(c.extend({},c.validator.classRules(l),c.validator.attributeRules(l),c.validator.dataRules(l),c.validator.staticRules(l)),l)).required&&(s=r.required,delete r.required,r=c.extend({required:s},r),c(l).attr("aria-required","true")),r.remote&&(s=r.remote,delete r.remote,r=c.extend(r,{remote:s})),r}}}),c.extend(c.expr.pseudos||c.expr[":"],{blank:function(e){return!c.trim(""+c(e).val())},filled:function(e){var t=c(e).val();return null!==t&&!!c.trim(""+t)},unchecked:function(e){return!c(e).prop("checked")}}),c.validator=function(e,t){this.settings=c.extend(!0,{},c.validator.defaults,e),this.currentForm=t,this.init()},c.validator.format=function(n,e){return 1===arguments.length?function(){var e=c.makeArray(arguments);return e.unshift(n),c.validator.format.apply(this,e)}:(void 0===e||(2<arguments.length&&e.constructor!==Array&&(e=c.makeArray(arguments).slice(1)),e.constructor!==Array&&(e=[e]),c.each(e,function(e,t){n=n.replace(new RegExp("\\{"+e+"\\}","g"),function(){return t})})),n)},c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){9===t.which&&""===this.elementValue(e)||-1!==c.inArray(t.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(e,t,n){"radio"===e.type?this.findByName(e.name).addClass(t).removeClass(n):c(e).addClass(t).removeClass(n)},unhighlight:function(e,t,n){"radio"===e.type?this.findByName(e.name).removeClass(t).addClass(n):c(e).removeClass(t).addClass(n)}},setDefaults:function(e){c.extend(c.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:c.validator.format("Please enter no more than {0} characters."),minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}."),step:c.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){!this.form&&this.hasAttribute("contenteditable")&&(this.form=c(this).closest("form")[0]);var t=c.data(this.form,"validator"),n="on"+e.type.replace(/^validate/,""),a=t.settings;a[n]&&!c(this).is(a.ignore)&&a[n].call(t,this,e)}this.labelContainer=c(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm),this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,a=this.groups={};c.each(this.settings.groups,function(n,e){"string"==typeof e&&(e=e.split(/\s/)),c.each(e,function(e,t){a[t]=n})}),n=this.settings.rules,c.each(n,function(e,t){n[e]=c.validator.normalizeRule(t)}),c(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&c(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),c(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),c.extend(this.submitted,this.errorMap),this.invalid=c.extend({},this.errorMap),this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(e){var t,n,a=this.clean(e),i=this.validationTargetFor(a),r=this,s=!0;return void 0===i?delete this.invalid[a.name]:(this.prepareElement(i),this.currentElements=c(i),(n=this.groups[i.name])&&c.each(this.groups,function(e,t){t===n&&e!==i.name&&(a=r.validationTargetFor(r.clean(r.findByName(e))))&&a.name in r.invalid&&(r.currentElements.push(a),s=r.check(a)&&s)}),t=!1!==this.check(i),s=s&&t,this.invalid[i.name]=!t,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c(e).attr("aria-invalid",!t)),s},showErrors:function(t){if(t){var n=this;c.extend(this.errorMap,t),this.errorList=c.map(this.errorMap,function(e,t){return{message:e,element:n.findByName(t)[0]}}),this.successList=c.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,n=0;for(t in e)e[t]&&n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===c.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,n={};return c(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var e=this.name||c(this).attr("name");return!e&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=c(this).closest("form")[0]),!(e in n||!t.objectLength(c(this).rules()))&&(n[e]=!0)})},clean:function(e){return c(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return c(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=c([]),this.toHide=c([])},reset:function(){this.resetInternals(),this.currentElements=c([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(e){var t,n,a=c(e),i=e.type;return"radio"===i||"checkbox"===i?this.findByName(e.name).filter(":checked").val():"number"===i&&void 0!==e.validity?e.validity.badInput?"NaN":a.val():(t=e.hasAttribute("contenteditable")?a.text():a.val(),"file"===i?"C:\\fakepath\\"===t.substr(0,12)?t.substr(12):0<=(n=t.lastIndexOf("/"))?t.substr(n+1):0<=(n=t.lastIndexOf("\\"))?t.substr(n+1):t:"string"==typeof t?t.replace(/\r/g,""):t)},check:function(t){t=this.validationTargetFor(this.clean(t));var e,n,a,i=c(t).rules(),r=c.map(i,function(e,t){return t}).length,s=!1,o=this.elementValue(t);if("function"==typeof i.normalizer){if("string"!=typeof(o=i.normalizer.call(t,o)))throw new TypeError("The normalizer should return a string value.");delete i.normalizer}for(n in i){a={method:n,parameters:i[n]};try{if("dependency-mismatch"===(e=c.validator.methods[n].call(this,o,t,a.parameters))&&1===r){s=!0;continue}if(s=!1,"pending"===e)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!e)return this.formatAndAdd(t,a),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+a.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+a.method+"' method."),e}}if(!s)return this.objectLength(i)&&this.successList.push(t),!0},customDataMessage:function(e,t){return c(e).data("msg"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase())||c(e).data("msg")},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(e,t){"string"==typeof t&&(t={method:t});var n=this.findDefined(this.customMessage(e.name,t.method),this.customDataMessage(e,t.method),!this.settings.ignoreTitle&&e.title||void 0,c.validator.messages[t.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),a=/\$?\{(\d+)\}/g;return"function"==typeof n?n=n.call(this,t.parameters,e):a.test(n)&&(n=c.validator.format(n.replace(a,"{$1}"),t.parameters)),n},formatAndAdd:function(e,t){var n=this.defaultMessage(e,t);this.errorList.push({message:n,element:e,method:t.method}),this.errorMap[e.name]=n,this.submitted[e.name]=n},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,n;for(e=0;this.errorList[e];e++)n=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(e,t){var n,a,i,r,s=this.errorsFor(e),o=this.idOrName(e),l=c(e).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(t)):(n=s=c("<"+this.settings.errorElement+">").attr("id",o+"-error").addClass(this.settings.errorClass).html(t||""),this.settings.wrapper&&(n=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement.call(this,n,c(e)):n.insertAfter(e),s.is("label")?s.attr("for",o):0===s.parents("label[for='"+this.escapeCssMeta(o)+"']").length&&(i=s.attr("id"),l?l.match(new RegExp("\\b"+this.escapeCssMeta(i)+"\\b"))||(l+=" "+i):l=i,c(e).attr("aria-describedby",l),(a=this.groups[e.name])&&(r=this,c.each(r.groups,function(e,t){t===a&&c("[name='"+r.escapeCssMeta(e)+"']",r.currentForm).attr("aria-describedby",s.attr("id"))})))),!t&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,e)),this.toShow=this.toShow.add(s)},errorsFor:function(e){var t=this.escapeCssMeta(this.idOrName(e)),n=c(e).attr("aria-describedby"),a="label[for='"+t+"'], label[for='"+t+"'] *";return n&&(a=a+", #"+this.escapeCssMeta(n).replace(/\s+/g,", #")),this.errors().filter(a)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),c(e).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(e){return c(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,t){switch(t.nodeName.toLowerCase()){case"select":return c("option:selected",t).length;case"input":if(this.checkable(t))return this.findByName(t.name).filter(":checked").length}return e.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(e,t){return!!c(e,t.form).length},function:function(e,t){return e(t)}},optional:function(e){var t=this.elementValue(e);return!c.validator.methods.required.call(this,t,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,c(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,t){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],c(e).removeClass(this.settings.pendingClass),t&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(c(this.currentForm).submit(),this.formSubmitted=!1):!t&&0===this.pendingRequest&&this.formSubmitted&&(c(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,t){return t="string"==typeof t&&t||"remote",c.data(e,"previousValue")||c.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:t})})},destroy:function(){this.resetForm(),c(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,t){e.constructor===String?this.classRuleSettings[e]=t:c.extend(this.classRuleSettings,e)},classRules:function(e){var t={},n=c(e).attr("class");return n&&c.each(n.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(t,c.validator.classRuleSettings[this])}),t},normalizeAttributeRule:function(e,t,n,a){/min|max|step/.test(n)&&(null===t||/number|range|text/.test(t))&&(a=Number(a),isNaN(a)&&(a=void 0)),a||0===a?e[n]=a:t===n&&"range"!==t&&(e[n]=!0)},attributeRules:function(e){var t,n,a={},i=c(e),r=e.getAttribute("type");for(t in c.validator.methods)"required"===t?(""===(n=e.getAttribute(t))&&(n=!0),n=!!n):n=i.attr(t),this.normalizeAttributeRule(a,r,t,n);return a.maxlength&&/-1|2147483647|524288/.test(a.maxlength)&&delete a.maxlength,a},dataRules:function(e){var t,n,a={},i=c(e),r=e.getAttribute("type");for(t in c.validator.methods)n=i.data("rule"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()),this.normalizeAttributeRule(a,r,t,n);return a},staticRules:function(e){var t={},n=c.data(e.form,"validator");return n.settings.rules&&(t=c.validator.normalizeRule(n.settings.rules[e.name])||{}),t},normalizeRules:function(a,i){return c.each(a,function(e,t){if(!1!==t){if(t.param||t.depends){var n=!0;switch(typeof t.depends){case"string":n=!!c(t.depends,i.form).length;break;case"function":n=t.depends.call(i,i)}n?a[e]=void 0===t.param||t.param:(c.data(i.form,"validator").resetElements(c(i)),delete a[e])}}else delete a[e]}),c.each(a,function(e,t){a[e]=c.isFunction(t)&&"normalizer"!==e?t(i):t}),c.each(["minlength","maxlength"],function(){a[this]&&(a[this]=Number(a[this]))}),c.each(["rangelength","range"],function(){var e;a[this]&&(c.isArray(a[this])?a[this]=[Number(a[this][0]),Number(a[this][1])]:"string"==typeof a[this]&&(e=a[this].replace(/[\[\]]/g,"").split(/[\s,]+/),a[this]=[Number(e[0]),Number(e[1])]))}),c.validator.autoCreateRanges&&(null!=a.min&&null!=a.max&&(a.range=[a.min,a.max],delete a.min,delete a.max),null!=a.minlength&&null!=a.maxlength&&(a.rangelength=[a.minlength,a.maxlength],delete a.minlength,delete a.maxlength)),a},normalizeRule:function(e){if("string"==typeof e){var t={};c.each(e.split(/\s/),function(){t[this]=!0}),e=t}return e},addMethod:function(e,t,n){c.validator.methods[e]=t,c.validator.messages[e]=void 0!==n?n:c.validator.messages[e],t.length<3&&c.validator.addClassRules(e,c.validator.normalizeRule(e))},methods:{required:function(e,t,n){if(!this.depend(n,t))return"dependency-mismatch";if("select"===t.nodeName.toLowerCase()){var a=c(t).val();return a&&0<a.length}return this.checkable(t)?0<this.getLength(e,t):0<e.length},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(e,t,n){var a=c.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||n<=a},maxlength:function(e,t,n){var a=c.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||a<=n},rangelength:function(e,t,n){var a=c.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||a>=n[0]&&a<=n[1]},min:function(e,t,n){return this.optional(t)||n<=e},max:function(e,t,n){return this.optional(t)||e<=n},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},step:function(e,t,n){var a,i=c(t).attr("type"),r="Step attribute on input type "+i+" is not supported.",s=new RegExp("\\b"+i+"\\b"),o=function(e){var t=(""+e).match(/(?:\.(\d+))?$/);return t&&t[1]?t[1].length:0},l=function(e){return Math.round(e*Math.pow(10,a))},d=!0;if(i&&!s.test(["text","number","range"].join()))throw new Error(r);return a=o(n),(o(e)>a||l(e)%l(n)!=0)&&(d=!1),this.optional(t)||d},equalTo:function(e,t,n){var a=c(n);return this.settings.onfocusout&&a.not(".validate-equalTo-blur").length&&a.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){c(t).valid()}),e===a.val()},remote:function(r,s,e,o){if(this.optional(s))return"dependency-mismatch";o="string"==typeof o&&o||"remote";var l,t,n,d=this.previousValue(s,o);return this.settings.messages[s.name]||(this.settings.messages[s.name]={}),d.originalMessage=d.originalMessage||this.settings.messages[s.name][o],this.settings.messages[s.name][o]=d.message,e="string"==typeof e&&{url:e}||e,n=c.param(c.extend({data:r},e.data)),d.old===n?d.valid:(d.old=n,(l=this).startRequest(s),(t={})[s.name]=r,c.ajax(c.extend(!0,{mode:"abort",port:"validate"+s.name,dataType:"json",data:t,context:l.currentForm,success:function(e){var t,n,a,i=!0===e||"true"===e;l.settings.messages[s.name][o]=d.originalMessage,i?(a=l.formSubmitted,l.resetInternals(),l.toHide=l.errorsFor(s),l.formSubmitted=a,l.successList.push(s),l.invalid[s.name]=!1,l.showErrors()):(t={},n=e||l.defaultMessage(s,{method:o,parameters:r}),t[s.name]=d.message=n,l.invalid[s.name]=!0,l.showErrors(t)),d.valid=i,l.stopRequest(s,i)}},e)),"pending")}}});var a,i={};return c.ajaxPrefilter?c.ajaxPrefilter(function(e,t,n){var a=e.port;"abort"===e.mode&&(i[a]&&i[a].abort(),i[a]=n)}):(a=c.ajax,c.ajax=function(e){var t=("mode"in e?e:c.ajaxSettings).mode,n=("port"in e?e:c.ajaxSettings).port;return"abort"===t?(i[n]&&i[n].abort(),i[n]=a.apply(this,arguments),i[n]):a.apply(this,arguments)}),c}),function(s){s.fn.getCode=function(e){var i=this,t=this.data(),r=s.extend({targetMobile:t.targetMobile||"",time:t.time||60,url:t.url||"",captcha:t.captcha||!1,captchaImg:t.captchaImg||"",captchaParam:t.captchaParam||"code"},e);s(r.targetMobile).on("input keyup",function(){var e=s(this).val();/^0?1[34578]\d{9}$/.test(e)?i.prop("disabled",!1):i.prop("disabled",!0)}),i.on("click",function(){var a=!1;if(1==r.captcha)notify.dialog({message:'<h4 class="text-center">图片验证码</h4><p class="notify-desc text-center">请输入图片验证码，获取手机验证码。</p><div class="form-group row mb-0"><div class="col"><input class="form-control captcha-input" type="text" name="captcha" placeholder="请输入验证码" maxlength="4" required></div><div class="col-auto pl-0"><a class="captcha-img d-block"><img src="'+r.captchaImg+'" height="35" width="120"></a></div></div>',closeButton:!1,onEscape:!1,className:"notify-captcha",buttons:{cancel:{label:"取消",className:"btn-cancel",callback:function(){}},sendCode:{label:"发送验证码",className:"btn-send btn-ok",diasbled:!0,callback:function(e){if(!a)return s(".notify-captcha input").focus(),s(".notify-captcha .form-group").addClass("has-error"),!1;var t,n={};return n[s(r.targetMobile).attr("name")]=s(r.targetMobile).val(),n[r.captchaParam]=s(".notify-captcha input").val(),t=n,s.ajax({url:r.url,data:t,type:"POST",dataType:"json",error:function(e,t){var n="<b>"+e.status+"</b> "+e.statusText;notify.error(n)},success:function(e){1==e.code?notify.alert('<div class="alert alert-success mb-0" role="alert">'+e.msg+"</div>",function(){var e=i.outerWidth(),n=i.html();i.css("width",e),i.prop("disabled",!0),setTimeout(function(){dialog.modal("hide");var e=r.time,t=setInterval(function(){i.html(e),0==e&&(clearInterval(t),i.prop("disabled",!1),i.html(n)),e--},1e3)},350)}):notify.alert('<div class="alert alert-danger mb-0" role="alert">'+e.msg+"</div>",function(){2==e.code&&(s(".notify-captcha .form-group").addClass("has-error"),s(".notify-captcha input").val(""),setTimeout(function(){s(".notify-captcha input").focus()},500))})}}),!1}}}});s(".notify-captcha .captcha-img").on("click",function(){var e=s(this).find("img"),t=e.attr("src");e.removeAttr("src").attr("src",t)}),s(".notify-captcha .captcha-input").on("input keyup",function(){4==s(this).val().length?(s(this).closest(".form-group").removeClass("has-error"),a=!0):(s(this).closest(".form-group").addClass("has-error"),a=!1)})})},0<s("[data-toggle='getCode']").length&&s("[data-toggle='getCode']").getCode()}(jQuery),function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=function(e,t){return void 0===t&&(t="undefined"!=typeof window?require("jquery"):require("jquery")(e)),n(t),t}:n(jQuery)}(function(A){"use strict";function r(e){var t=e.data;e.isDefaultPrevented()||(e.preventDefault(),A(e.target).closest("form").ajaxSubmit(t))}function s(e){var t=e.target,n=A(t);if(!n.is("[type=submit],[type=image]")){var a=n.closest("[type=submit]");if(0===a.length)return;t=a[0]}var i=t.form;if("image"===(i.clk=t).type)if(void 0!==e.offsetX)i.clk_x=e.offsetX,i.clk_y=e.offsetY;else if("function"==typeof A.fn.offset){var r=n.offset();i.clk_x=e.pageX-r.left,i.clk_y=e.pageY-r.top}else i.clk_x=e.pageX-t.offsetLeft,i.clk_y=e.pageY-t.offsetTop;setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}function q(){if(A.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}var h=/\r?\n/g,k={};k.fileapi=void 0!==A('<input type="file">').get(0).files,k.formdata=void 0!==window.FormData;var N=!!A.fn.prop;A.fn.attr2=function(){if(!N)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},A.fn.ajaxSubmit=function(M,e,t,n){function a(e){function c(t){var n=null;try{t.contentWindow&&(n=t.contentWindow.document)}catch(e){q("cannot get iframe.contentWindow document: "+e)}if(n)return n;try{n=t.contentDocument?t.contentDocument:t.document}catch(e){q("cannot get iframe.contentDocument: "+e),n=t.document}return n}function t(){var e=L.attr2("target"),t=L.attr2("action"),n=L.attr("enctype")||L.attr("encoding")||"multipart/form-data";o.setAttribute("target",r),O&&!/post/i.test(O)||o.setAttribute("method","POST"),t!==p.url&&o.setAttribute("action",p.url),p.skipEncodingOverride||O&&!/post/i.test(O)||L.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),p.timeout&&(b=setTimeout(function(){v=!0,u(w)},p.timeout));var a=[];try{if(p.extraData)for(var i in p.extraData)p.extraData.hasOwnProperty(i)&&(A.isPlainObject(p.extraData[i])&&p.extraData[i].hasOwnProperty("name")&&p.extraData[i].hasOwnProperty("value")?a.push(A('<input type="hidden" name="'+p.extraData[i].name+'">',l).val(p.extraData[i].value).appendTo(o)[0]):a.push(A('<input type="hidden" name="'+i+'">',l).val(p.extraData[i]).appendTo(o)[0]));p.iframeTarget||f.appendTo(d),m.attachEvent?m.attachEvent("onload",u):m.addEventListener("load",u,!1),setTimeout(function e(){try{var t=c(m).readyState;q("state = "+t),t&&"uninitialized"===t.toLowerCase()&&setTimeout(e,50)}catch(e){q("Server abort: ",e," (",e.name,")"),u(x),b&&clearTimeout(b),b=void 0}},15);try{o.submit()}catch(e){document.createElement("form").submit.apply(o)}}finally{o.setAttribute("action",t),o.setAttribute("enctype",n),e?o.setAttribute("target",e):L.removeAttr("target"),A(a).remove()}}function u(e){if(!g.aborted&&!S){if((T=c(m))||(q("cannot access response document"),e=x),e===w&&g)return g.abort("timeout"),void y.reject(g,"timeout");if(e===x&&g)return g.abort("server abort"),void y.reject(g,"error","server abort");if(T&&T.location.href!==p.iframeSrc||v){m.detachEvent?m.detachEvent("onload",u):m.removeEventListener("load",u,!1);var t,n="success";try{if(v)throw"timeout";var a="xml"===p.dataType||T.XMLDocument||A.isXMLDoc(T);if(q("isXml="+a),!a&&window.opera&&(null===T.body||!T.body.innerHTML)&&--D)return q("requeing onLoad callback, DOM not available"),void setTimeout(u,250);var i=T.body?T.body:T.documentElement;g.responseText=i?i.innerHTML:null,g.responseXML=T.XMLDocument?T.XMLDocument:T,a&&(p.dataType="xml"),g.getResponseHeader=function(e){return{"content-type":p.dataType}[e.toLowerCase()]},i&&(g.status=Number(i.getAttribute("status"))||g.status,g.statusText=i.getAttribute("statusText")||g.statusText);var r=(p.dataType||"").toLowerCase(),s=/(json|script|text)/.test(r);if(s||p.textarea){var o=T.getElementsByTagName("textarea")[0];if(o)g.responseText=o.value,g.status=Number(o.getAttribute("status"))||g.status,g.statusText=o.getAttribute("statusText")||g.statusText;else if(s){var l=T.getElementsByTagName("pre")[0],d=T.getElementsByTagName("body")[0];l?g.responseText=l.textContent?l.textContent:l.innerText:d&&(g.responseText=d.textContent?d.textContent:d.innerText)}}else"xml"===r&&!g.responseXML&&g.responseText&&(g.responseXML=E(g.responseText));try{$=I(g,r,p)}catch(e){n="parsererror",g.error=t=e||n}}catch(e){q("error caught: ",e),n="error",g.error=t=e||n}g.aborted&&(q("upload aborted"),n=null),g.status&&(n=200<=g.status&&g.status<300||304===g.status?"success":"error"),"success"===n?(p.success&&p.success.call(p.context,$,"success",g),y.resolve(g.responseText,"success",g),h&&A.event.trigger("ajaxSuccess",[g,p])):n&&(void 0===t&&(t=g.statusText),p.error&&p.error.call(p.context,g,n,t),y.reject(g,"error",t),h&&A.event.trigger("ajaxError",[g,p,t])),h&&A.event.trigger("ajaxComplete",[g,p]),h&&!--A.active&&A.event.trigger("ajaxStop"),p.complete&&p.complete.call(p.context,g,n),S=!0,p.timeout&&clearTimeout(b),setTimeout(function(){p.iframeTarget?f.attr("src",p.iframeSrc):f.remove(),g.responseXML=null},100)}}}var n,a,p,h,r,f,m,g,i,s,v,b,o=L[0],y=A.Deferred();if(y.abort=function(e){g.abort(e)},e)for(a=0;a<P.length;a++)n=A(P[a]),N?n.prop("disabled",!1):n.removeAttr("disabled");(p=A.extend(!0,{},A.ajaxSettings,M)).context=p.context||p,r="jqFormIO"+(new Date).getTime();var l=o.ownerDocument,d=L.closest("body");if(p.iframeTarget?(s=(f=A(p.iframeTarget,l)).attr2("name"))?r=s:f.attr2("name",r):(f=A('<iframe name="'+r+'" src="'+p.iframeSrc+'" />',l)).css({position:"absolute",top:"-1000px",left:"-1000px"}),m=f[0],g={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var t="timeout"===e?"timeout":"aborted";q("aborting upload... "+t),this.aborted=1;try{m.contentWindow.document.execCommand&&m.contentWindow.document.execCommand("Stop")}catch(e){}f.attr("src",p.iframeSrc),g.error=t,p.error&&p.error.call(p.context,g,t,e),h&&A.event.trigger("ajaxError",[g,p,t]),p.complete&&p.complete.call(p.context,g,t)}},(h=p.global)&&0==A.active++&&A.event.trigger("ajaxStart"),h&&A.event.trigger("ajaxSend",[g,p]),p.beforeSend&&!1===p.beforeSend.call(p.context,g,p))return p.global&&A.active--,y.reject(),y;if(g.aborted)return y.reject(),y;(i=o.clk)&&(s=i.name)&&!i.disabled&&(p.extraData=p.extraData||{},p.extraData[s]=i.value,"image"===i.type&&(p.extraData[s+".x"]=o.clk_x,p.extraData[s+".y"]=o.clk_y));var w=1,x=2,C=A("meta[name=csrf-token]").attr("content"),k=A("meta[name=csrf-param]").attr("content");k&&C&&(p.extraData=p.extraData||{},p.extraData[k]=C),p.forceSync?t():setTimeout(t,10);var $,T,S,D=50,E=A.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!==t.documentElement.nodeName?t:null},j=A.parseJSON||function(e){return window.eval("("+e+")")},I=function(e,t,n){var a=e.getResponseHeader("content-type")||"",i=("xml"===t||!t)&&0<=a.indexOf("xml"),r=i?e.responseXML:e.responseText;return i&&"parsererror"===r.documentElement.nodeName&&A.error&&A.error("parsererror"),n&&n.dataFilter&&(r=n.dataFilter(r,t)),"string"==typeof r&&(("json"===t||!t)&&0<=a.indexOf("json")?r=j(r):("script"===t||!t)&&0<=a.indexOf("javascript")&&A.globalEval(r)),r};return y}if(!this.length)return q("ajaxSubmit: skipping submit process - no element selected"),this;var O,i,r,L=this;"function"==typeof M?M={success:M}:"string"==typeof M||!1===M&&0<arguments.length?(M={url:M,data:e,dataType:t},"function"==typeof n&&(M.success=n)):void 0===M&&(M={}),O=M.method||M.type||this.attr2("method"),(r=(r="string"==typeof(i=M.url||this.attr2("action"))?A.trim(i):"")||window.location.href||"")&&(r=(r.match(/^([^#]+)/)||[])[1]),M=A.extend(!0,{url:r,success:A.ajaxSettings.success,type:O||A.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},M);var s={};if(this.trigger("form-pre-serialize",[this,M,s]),s.veto)return q("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(M.beforeSerialize&&!1===M.beforeSerialize(this,M))return q("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var o=M.traditional;void 0===o&&(o=A.ajaxSettings.traditional);var l,P=[],d=this.formToArray(M.semantic,P,M.filtering);if(M.data){var c=A.isFunction(M.data)?M.data(d):M.data;M.extraData=c,l=A.param(c,o)}if(M.beforeSubmit&&!1===M.beforeSubmit(d,this,M))return q("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[d,this,M,s]),s.veto)return q("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var u=A.param(d,o);l&&(u=u?u+"&"+l:l),"GET"===M.type.toUpperCase()?(M.url+=(0<=M.url.indexOf("?")?"&":"?")+u,M.data=null):M.data=u;var p=[];if(M.resetForm&&p.push(function(){L.resetForm()}),M.clearForm&&p.push(function(){L.clearForm(M.includeHidden)}),!M.dataType&&M.target){var h=M.success||function(){};p.push(function(e,t,n){var a=arguments,i=M.replaceTarget?"replaceWith":"html";A(M.target)[i](e).each(function(){h.apply(this,a)})})}else M.success&&(A.isArray(M.success)?A.merge(p,M.success):p.push(M.success));if(M.success=function(e,t,n){for(var a=M.context||this,i=0,r=p.length;i<r;i++)p[i].apply(a,[e,t,n||L,L])},M.error){var f=M.error;M.error=function(e,t,n){var a=M.context||this;f.apply(a,[e,t,n,L])}}if(M.complete){var m=M.complete;M.complete=function(e,t){var n=M.context||this;m.apply(n,[e,t,L])}}var g=0<A("input[type=file]:enabled",this).filter(function(){return""!==A(this).val()}).length,v="multipart/form-data",b=L.attr("enctype")===v||L.attr("encoding")===v,y=k.fileapi&&k.formdata;q("fileAPI :"+y);var w,x=(g||b)&&!y;!1!==M.iframe&&(M.iframe||x)?M.closeKeepAlive?A.get(M.closeKeepAlive,function(){w=a(d)}):w=a(d):w=(g||b)&&y?function(e){for(var n=new FormData,t=0;t<e.length;t++)n.append(e[t].name,e[t].value);if(M.extraData){var a=function(e){var t,n,a=A.param(e,M.traditional).split("&"),i=a.length,r=[];for(t=0;t<i;t++)a[t]=a[t].replace(/\+/g," "),n=a[t].split("="),r.push([decodeURIComponent(n[0]),decodeURIComponent(n[1])]);return r}(M.extraData);for(t=0;t<a.length;t++)a[t]&&n.append(a[t][0],a[t][1])}M.data=null;var i=A.extend(!0,{},A.ajaxSettings,M,{contentType:!1,processData:!1,cache:!1,type:O||"POST"});M.uploadProgress&&(i.xhr=function(){var e=A.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",function(e){var t=0,n=e.loaded||e.position,a=e.total;e.lengthComputable&&(t=Math.ceil(n/a*100)),M.uploadProgress(e,n,a,t)},!1),e}),i.data=null;var r=i.beforeSend;return i.beforeSend=function(e,t){M.formData?t.data=M.formData:t.data=n,r&&r.call(this,e,t)},A.ajax(i)}(d):A.ajax(M),L.removeData("jqxhr").data("jqxhr",w);for(var C=0;C<P.length;C++)P[C]=null;return this.trigger("form-submit-notify",[this,M]),this},A.fn.ajaxForm=function(e,t,n,a){if(("string"==typeof e||!1===e&&0<arguments.length)&&(e={url:e,data:t,dataType:n},"function"==typeof a&&(e.success=a)),(e=e||{}).delegation=e.delegation&&A.isFunction(A.fn.on),!e.delegation&&0===this.length){var i={s:this.selector,c:this.context};return!A.isReady&&i.s?(q("DOM not ready, queuing ajaxForm"),A(function(){A(i.s,i.c).ajaxForm(e)})):q("terminating; zero elements found by selector"+(A.isReady?"":" (DOM not ready)")),this}return e.delegation?(A(document).off("submit.form-plugin",this.selector,r).off("click.form-plugin",this.selector,s).on("submit.form-plugin",this.selector,e,r).on("click.form-plugin",this.selector,e,s),this):this.ajaxFormUnbind().on("submit.form-plugin",e,r).on("click.form-plugin",e,s)},A.fn.ajaxFormUnbind=function(){return this.off("submit.form-plugin click.form-plugin")},A.fn.formToArray=function(e,t,n){var a=[];if(0===this.length)return a;var i,r,s,o,l,d,c,u,p=this[0],h=this.attr("id"),f=e||void 0===p.elements?p.getElementsByTagName("*"):p.elements;if(f&&(f=A.makeArray(f)),h&&(e||/(Edge|Trident)\//.test(navigator.userAgent))&&(i=A(':input[form="'+h+'"]').get()).length&&(f=(f||[]).concat(i)),!f||!f.length)return a;for(A.isFunction(n)&&(f=A.map(f,n)),r=0,c=f.length;r<c;r++)if((o=(d=f[r]).name)&&!d.disabled)if(e&&p.clk&&"image"===d.type)p.clk===d&&(a.push({name:o,value:A(d).val(),type:d.type}),a.push({name:o+".x",value:p.clk_x},{name:o+".y",value:p.clk_y}));else if((l=A.fieldValue(d,!0))&&l.constructor===Array)for(t&&t.push(d),s=0,u=l.length;s<u;s++)a.push({name:o,value:l[s]});else if(k.fileapi&&"file"===d.type){t&&t.push(d);var m=d.files;if(m.length)for(s=0;s<m.length;s++)a.push({name:o,value:m[s],type:d.type});else a.push({name:o,value:"",type:d.type})}else null!=l&&(t&&t.push(d),a.push({name:o,value:l,type:d.type,required:d.required}));if(!e&&p.clk){var g=A(p.clk),v=g[0];(o=v.name)&&!v.disabled&&"image"===v.type&&(a.push({name:o,value:g.val()}),a.push({name:o+".x",value:p.clk_x},{name:o+".y",value:p.clk_y}))}return a},A.fn.formSerialize=function(e){return A.param(this.formToArray(e))},A.fn.fieldSerialize=function(i){var r=[];return this.each(function(){var e=this.name;if(e){var t=A.fieldValue(this,i);if(t&&t.constructor===Array)for(var n=0,a=t.length;n<a;n++)r.push({name:e,value:t[n]});else null!=t&&r.push({name:this.name,value:t})}}),A.param(r)},A.fn.fieldValue=function(e){for(var t=[],n=0,a=this.length;n<a;n++){var i=this[n],r=A.fieldValue(i,e);null==r||r.constructor===Array&&!r.length||(r.constructor===Array?A.merge(t,r):t.push(r))}return t},A.fieldValue=function(e,t){var n=e.name,a=e.type,i=e.tagName.toLowerCase();if(void 0===t&&(t=!0),t&&(!n||e.disabled||"reset"===a||"button"===a||("checkbox"===a||"radio"===a)&&!e.checked||("submit"===a||"image"===a)&&e.form&&e.form.clk!==e||"select"===i&&-1===e.selectedIndex))return null;if("select"===i){var r=e.selectedIndex;if(r<0)return null;for(var s=[],o=e.options,l="select-one"===a,d=l?r+1:o.length,c=l?r:0;c<d;c++){var u=o[c];if(u.selected&&!u.disabled){var p=u.value;if(p||(p=u.attributes&&u.attributes.value&&!u.attributes.value.specified?u.text:u.value),l)return p;s.push(p)}}return s}return A(e).val().replace(h,"\r\n")},A.fn.clearForm=function(e){return this.each(function(){A("input,select,textarea",this).clearFields(e)})},A.fn.clearFields=A.fn.clearInputs=function(n){var a=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var e=this.type,t=this.tagName.toLowerCase();a.test(e)||"textarea"===t?this.value="":"checkbox"===e||"radio"===e?this.checked=!1:"select"===t?this.selectedIndex=-1:"file"===e?/MSIE/.test(navigator.userAgent)?A(this).replaceWith(A(this).clone(!0)):A(this).val(""):n&&(!0===n&&/hidden/.test(e)||"string"==typeof n&&A(this).is(n))&&(this.value="")})},A.fn.resetForm=function(){return this.each(function(){var t=A(this),e=this.tagName.toLowerCase();switch(e){case"input":this.checked=this.defaultChecked;case"textarea":return this.value=this.defaultValue,!0;case"option":case"optgroup":var n=t.parents("select");return n.length&&n[0].multiple?"option"===e?this.selected=this.defaultSelected:t.find("option").resetForm():n.resetForm(),!0;case"select":return t.find("option").each(function(e){if(this.selected=this.defaultSelected,this.defaultSelected&&!t[0].multiple)return t[0].selectedIndex=e,!1}),!0;case"label":var a=A(t.attr("for")),i=t.find("input,select,textarea");return a[0]&&i.unshift(a[0]),i.resetForm(),!0;case"form":return("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset(),!0;default:return t.find("form,input,label,select,textarea").resetForm(),!0}})},A.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},A.fn.selected=function(n){return void 0===n&&(n=!0),this.each(function(){var e=this.type;if("checkbox"===e||"radio"===e)this.checked=n;else if("option"===this.tagName.toLowerCase()){var t=A(this).parent("select");n&&t[0]&&"select-one"===t[0].type&&t.find("option").selected(!1),this.selected=n}})},A.fn.ajaxSubmit.debug=!1}),$.validator&&($.validator.addMethod("tel",function(e,t){return e=(e=e.split("-").join("")).split(" ").join(""),this.optional(t)||/^(\+86)?0?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/.test(e)||/^([0-9]{3,4})?[0-9]{7,8}$/.test(e)||/^(\+86)?(400)[0-9]{7}$/.test(e)||/^(\+86)([0-9]{2,3})?[0-9]{7,8}$/.test(e)},"电话格式不对"),$.validator.addMethod("mobile",function(e,t){return this.optional(t)||/^0?1[34578]\d{9}$/.test(e)},"手机号格式有误"),$.validator.addMethod("hanzi",function(e,t){return this.optional(t)||/^[\u4e00-\u9fa5]+$/.test(e)},"您输入的字符串有非汉字字符"),$.validator.addMethod("cardid",function(e,t){return this.optional(t)||/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/.test(e)},"请填写正确的身份证"),$.validator.addMethod("qqnumber",function(e,t){return this.optional(t)||/^[1-9]\d{4,11}$/i.test(e)},"QQ号格式不对"),$.validator.addClassRules({mobile:{mobile:!0},tel:{tel:!0},qqnumber:{qqnumber:!0},cardid:{cardid:!0},hanzi:{hanzi:!0}})),$.extend($.validator.messages,{required:"必填字段",remote:"请修正该字段",email:"请输入正确格式的电子邮件",url:"请输入合法的网址",date:"请输入合法的日期",dateISO:"请输入合法的日期 (ISO).",number:"请输入合法的数字",digits:"只能输入整数",creditcard:"请输入合法的信用卡号",equalTo:"请再次输入相同的值",accept:"请输入拥有合法后缀名的字符串",maxlength:$.validator.format("长度最多是{0}的字符串"),minlength:$.validator.format("长度最少是{0}的字符串"),rangelength:$.validator.format("长度介于{0}和{1}之间的字符串"),range:$.validator.format("请输入一个介于{0}和{1}之间的值"),max:$.validator.format("请输入一个最大为{0}的值"),min:$.validator.format("请输入一个最小为{0}的值")}),window.alertText={error:function(e){return'<div class="alert alert-danger mb-0" role="alert">'+e+"</div>"},success:function(e){return'<div class="alert alert-success mb-0" role="alert">'+e+"</div>"},warning:function(e){return'<div class="alert alert-warning mb-0" role="alert">'+e+"</div>"}},window.notify.error=function(e,t){e=alertText.error(e);notify.alert({className:"noitfy-error",message:e,callback:function(){$.isFunction(t)&&t.call(this)}})},window.notify.success=function(e,t){e=alertText.success(e);notify.alert({className:"noitfy-success",message:e,callback:function(){$.isFunction(t)&&t.call(this)}})},$(function(){function d(e,t,n){var a=t,i=setInterval(function(){console.log(a),a--,"close"!=e&&n.find(".notify-auto strong").text(a),1==a&&"close"!=e&&(window.location.href=e),"close"==e&&1==a&&n.modal("hide"),0==a&&clearInterval(i)},1e3)}$("[data-toggle='validate'],[data-toggle='ajaxForm']").each(function(){var n=$(this);n.validate({errorElement:"span",errorClass:"msg-error",focusInvalid:!1,ignore:"",errorPlacement:function(e,t){$(t).closest(".form-group").find(".help-block").text(e.text())},invalidHandler:function(e,t){n.data("validate",!1),console.log("error")},highlight:function(e){$(e).closest(".form-group").removeClass("has-success").addClass("has-error")},unhighlight:function(e){$(e).closest(".form-group").removeClass("has-error")},success:function(e,t){$(t).closest(".form-group").removeClass("has-error").addClass("has-success");$(t).closest(".form-group").find(".help-block").text("")},submitHandler:function(e){n.data("validate",!0),"ajaxForm"!=n.data("toggle")&&e[0].submit()}})}),$(document).on("click","[data-toggle='captcha']",function(){var e=$(this).data("target"),t=(new Date).getTime();if(console.log("click"),e)var n=$(e);else n=$(this);var a=n.attr("src"),i=a.split("?");1<i.length&&(a=i[0]),n.attr("src",a+"?v"+t)}),$("[data-confirm]").on("click",function(){var e=$(this).data("msg"),t=$(this),n=$(this).data("confirm");notify.confirm(alertText.warning(e),function(e){$.isFunction(window[n])&&window[n](t,e)})}),$("[data-toggle='ajaxForm']").each(function(){$(this).data("formHTML",$(this).html());var l=$(this);$(this).on("submit",function(e){e.preventDefault();var t=$(this).attr("method")||"POST",n=$(this).data("validate"),i=$(this).data("alert")||!0,r=$(this).find("[type='submit']"),s=$(this).data("callback"),o="";n&&(btnState(r,!0),$(this).ajaxSubmit({type:t,dataType:"json",error:function(e,t){btnState(r,!1);var n="<b>"+e.status+"</b> "+e.statusText;notify.error(n)},success:function(e,t,n){if(btnState(r,!1),$.isFunction(window[s]))return window[s](e,t,n),!1;s=!1,e.autoRedirect&&e.redirectUrl&&(o="<div class='mt-3 notify-auto msg'><strong>"+e.autoRedirect+"</strong>秒后自动跳转。</div>");if(!0===i&&0==s)if(1===e.code)var a=notify.alert({message:alertText.success(e.msg)+o,className:"noitfy-success",callback:function(){e.redirectUrl?window.location.href=e.redirectUrl:l.html(l.data("formHTML"))}});else a=notify.alert({message:alertText.error(e.msg)+o,className:"noitfy-error"});a.one("shown.bs.modal",function(){e.autoRedirect&&e.redirectUrl&&d(e.redirectUrl,e.autoRedirect,a),e.autoClose&&d("close",e.autoClose,a)})}}))})})}),$("html").hasClass("ie9")&&$(".col-form-label").each(function(){$(this).wrap("<div></div>")});